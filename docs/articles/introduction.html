<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to SuperML • SuperML</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to SuperML">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SuperML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction to SuperML</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saraswatmks/superml">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/saraswatmanish/">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="introduction_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to SuperML</h1>
                        <h4 class="author">Manish Saraswat</h4>
            
            <h4 class="date">2018-12-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/saraswatmks/superml/blob/master/vignettes/introduction.Rmd"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<p>SuperML R package is designed to unify the model training process in R like Python. Generally, it’s seen that people spend lot of time in searching for packages, figuring out the syntax for training machine learning models in R. This behaviour is highly apparent in users who frequently switch between R and Python. This package provides a python´s scikit-learn interface (<code>fit</code>, <code>predict</code>) to train models faster.</p>
<p>In addition to building machine learning models, there are handy functionalities to do feature engineering</p>
<p>This ambitious package is my ongoing effort to help the r-community build ML models easily and faster in R.</p>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>This package is still not on cran. Currently, you can install using:</p>
<p><code><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">devtools::install_github("saraswatmks/superml")</a></code></p>
</div>
<div id="examples---machine-learning-models" class="section level2">
<h2 class="hasAnchor">
<a href="#examples---machine-learning-models" class="anchor"></a>Examples - Machine Learning Models</h2>
<p>This package uses existing r-packages to build machine learning model. In this tutorial, we’ll use data.table R package to do all tasks related to data manipulation.</p>
<div id="regression-data" class="section level3">
<h3 class="hasAnchor">
<a href="#regression-data" class="anchor"></a>Regression Data</h3>
<p>We’ll quickly prepare the data set to be ready to served for model training.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/load">load</a></span>(<span class="st">"../data/reg_train.rda"</span>)

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(data.table)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(caret)
<span class="co">#&gt; Loading required package: lattice</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(superml)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(kableExtra)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(Metrics)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'Metrics'</span>
<span class="co">#&gt; The following objects are masked from 'package:caret':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     precision, recall</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(reg_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
Id
</th>
<th style="text-align:right;">
MSSubClass
</th>
<th style="text-align:left;">
MSZoning
</th>
<th style="text-align:right;">
LotFrontage
</th>
<th style="text-align:right;">
LotArea
</th>
<th style="text-align:left;">
Street
</th>
<th style="text-align:left;">
Alley
</th>
<th style="text-align:left;">
LotShape
</th>
<th style="text-align:left;">
LandContour
</th>
<th style="text-align:left;">
Utilities
</th>
<th style="text-align:left;">
LotConfig
</th>
<th style="text-align:left;">
LandSlope
</th>
<th style="text-align:left;">
Neighborhood
</th>
<th style="text-align:left;">
Condition1
</th>
<th style="text-align:left;">
Condition2
</th>
<th style="text-align:left;">
BldgType
</th>
<th style="text-align:left;">
HouseStyle
</th>
<th style="text-align:right;">
OverallQual
</th>
<th style="text-align:right;">
OverallCond
</th>
<th style="text-align:right;">
YearBuilt
</th>
<th style="text-align:right;">
YearRemodAdd
</th>
<th style="text-align:left;">
RoofStyle
</th>
<th style="text-align:left;">
RoofMatl
</th>
<th style="text-align:left;">
Exterior1st
</th>
<th style="text-align:left;">
Exterior2nd
</th>
<th style="text-align:left;">
MasVnrType
</th>
<th style="text-align:right;">
MasVnrArea
</th>
<th style="text-align:left;">
ExterQual
</th>
<th style="text-align:left;">
ExterCond
</th>
<th style="text-align:left;">
Foundation
</th>
<th style="text-align:left;">
BsmtQual
</th>
<th style="text-align:left;">
BsmtCond
</th>
<th style="text-align:left;">
BsmtExposure
</th>
<th style="text-align:left;">
BsmtFinType1
</th>
<th style="text-align:right;">
BsmtFinSF1
</th>
<th style="text-align:left;">
BsmtFinType2
</th>
<th style="text-align:right;">
BsmtFinSF2
</th>
<th style="text-align:right;">
BsmtUnfSF
</th>
<th style="text-align:right;">
TotalBsmtSF
</th>
<th style="text-align:left;">
Heating
</th>
<th style="text-align:left;">
HeatingQC
</th>
<th style="text-align:left;">
CentralAir
</th>
<th style="text-align:left;">
Electrical
</th>
<th style="text-align:right;">
1stFlrSF
</th>
<th style="text-align:right;">
2ndFlrSF
</th>
<th style="text-align:right;">
LowQualFinSF
</th>
<th style="text-align:right;">
GrLivArea
</th>
<th style="text-align:right;">
BsmtFullBath
</th>
<th style="text-align:right;">
BsmtHalfBath
</th>
<th style="text-align:right;">
FullBath
</th>
<th style="text-align:right;">
HalfBath
</th>
<th style="text-align:right;">
BedroomAbvGr
</th>
<th style="text-align:right;">
KitchenAbvGr
</th>
<th style="text-align:left;">
KitchenQual
</th>
<th style="text-align:right;">
TotRmsAbvGrd
</th>
<th style="text-align:left;">
Functional
</th>
<th style="text-align:right;">
Fireplaces
</th>
<th style="text-align:left;">
FireplaceQu
</th>
<th style="text-align:left;">
GarageType
</th>
<th style="text-align:right;">
GarageYrBlt
</th>
<th style="text-align:left;">
GarageFinish
</th>
<th style="text-align:right;">
GarageCars
</th>
<th style="text-align:right;">
GarageArea
</th>
<th style="text-align:left;">
GarageQual
</th>
<th style="text-align:left;">
GarageCond
</th>
<th style="text-align:left;">
PavedDrive
</th>
<th style="text-align:right;">
WoodDeckSF
</th>
<th style="text-align:right;">
OpenPorchSF
</th>
<th style="text-align:right;">
EnclosedPorch
</th>
<th style="text-align:right;">
3SsnPorch
</th>
<th style="text-align:right;">
ScreenPorch
</th>
<th style="text-align:right;">
PoolArea
</th>
<th style="text-align:left;">
PoolQC
</th>
<th style="text-align:left;">
Fence
</th>
<th style="text-align:left;">
MiscFeature
</th>
<th style="text-align:right;">
MiscVal
</th>
<th style="text-align:right;">
MoSold
</th>
<th style="text-align:right;">
YrSold
</th>
<th style="text-align:left;">
SaleType
</th>
<th style="text-align:left;">
SaleCondition
</th>
<th style="text-align:right;">
SalePrice
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
8450
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
706
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:right;">
854
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1710
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
548
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
208500
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
9600
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Veenker
</td>
<td style="text-align:left;">
Feedr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
978
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
284
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
460
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
298
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
181500
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
11250
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
2002
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
162
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
486
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
434
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:right;">
866
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1786
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
608
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
223500
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
9550
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Crawfor
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1915
</td>
<td style="text-align:right;">
1970
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
Wd Sdng
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
961
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1717
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1998
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
642
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
140000
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
14260
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NoRidge
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
655
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
1053
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2198
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
836
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
250000
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
14115
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Mitchel
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Wood
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
732
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:right;">
566
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1362
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
320
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
MnPrv
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
700
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
143000
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
10084
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Somerst
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:right;">
2005
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
1369
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
317
</td>
<td style="text-align:right;">
1686
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
636
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
255
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
307000
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
10382
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NWAmes
</td>
<td style="text-align:left;">
PosN
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
240
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
859
</td>
<td style="text-align:left;">
BLQ
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:right;">
983
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2090
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
484
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
204
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
200000
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RM
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
6120
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
OldTown
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
FuseF
</td>
<td style="text-align:right;">
1022
</td>
<td style="text-align:right;">
752
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1774
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Min1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
468
</td>
<td style="text-align:left;">
Fa
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
129900
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
7420
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
BrkSide
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
2fmCon
</td>
<td style="text-align:left;">
1.5Unf
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
851
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:right;">
991
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
118000
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
split &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> reg_train<span class="op">$</span>SalePrice, <span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>reg_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>reg_train[<span class="op">!</span>split<span class="op">$</span>Resample1]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># remove features with 90% or more missing values</span>
<span class="co"># we will also remove the Id column because it doesn't contain</span>
<span class="co"># any useful information</span>
na_cols &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colSums">colSums</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(xtrain)) <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(xtrain)
na_cols &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(na_cols[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(na_cols <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.9</span>)])

xtrain[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># encode categorical variables</span>
cat_cols &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(xtrain)[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(xtrain, is.character)]

<span class="cf">for</span>(c <span class="cf">in</span> cat_cols){
    lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()
    lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(xtrain[[c]], xtest[[c]]))
    xtrain[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtrain[[c]])
    xtest[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtest[[c]])
}
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA'</span>

<span class="co"># removing noise column</span>
noise &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'GrLivArea'</span>,<span class="st">'TotalBsmtSF'</span>)

xtrain[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># fill missing value with  -1</span>
xtrain[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(xtrain)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span>
xtest[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(xtest)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span></code></pre></div>
<p><strong>KNN Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knn &lt;-<span class="st"> </span>KNNTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">k =</span> <span class="dv">2</span>,<span class="dt">prob =</span> T,<span class="dt">type =</span> <span class="st">'reg'</span>)
knn<span class="op">$</span><span class="kw">fit_predict</span>(<span class="dt">train =</span> xtrain, <span class="dt">test =</span> xtest, <span class="dt">y =</span> <span class="st">'SalePrice'</span>)
probs &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw">get_predictions</span>(<span class="dt">type =</span> <span class="st">'prob'</span>)
labels &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw">get_predictions</span>(<span class="dt">type=</span><span class="st">'raw'</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted=</span>labels)
<span class="co">#&gt; Warning in auc(actual = xtest$Survived, predicted = labels): longer object</span>
<span class="co">#&gt; length is not a multiple of shorter object length</span>
<span class="co">#&gt; [1] NaN</span></code></pre></div>
<p><strong>Simple Regresison</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -377736   -15436     -988    12929   251799  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                 Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)   -3.639e+04  1.594e+06  -0.023 0.981794    </span>
<span class="co">#&gt; MSSubClass    -1.877e+02  6.738e+01  -2.785 0.005454 ** </span>
<span class="co">#&gt; MSZoning      -2.402e+03  1.499e+03  -1.602 0.109384    </span>
<span class="co">#&gt; LotFrontage    4.269e-01  3.353e+01   0.013 0.989842    </span>
<span class="co">#&gt; LotArea        3.833e-01  1.241e-01   3.090 0.002060 ** </span>
<span class="co">#&gt; Street        -4.143e+04  1.443e+04  -2.871 0.004187 ** </span>
<span class="co">#&gt; LotShape      -6.366e+02  2.109e+03  -0.302 0.762773    </span>
<span class="co">#&gt; LandContour    2.398e+03  1.816e+03   1.321 0.186932    </span>
<span class="co">#&gt; Utilities     -6.480e+04  3.413e+04  -1.899 0.057883 .  </span>
<span class="co">#&gt; LotConfig      2.409e+03  1.303e+03   1.849 0.064719 .  </span>
<span class="co">#&gt; LandSlope      5.484e+03  4.823e+03   1.137 0.255793    </span>
<span class="co">#&gt; Neighborhood  -4.874e+02  1.991e+02  -2.449 0.014512 *  </span>
<span class="co">#&gt; Condition1    -3.121e+03  7.291e+02  -4.281 2.05e-05 ***</span>
<span class="co">#&gt; Condition2    -2.855e+03  4.045e+03  -0.706 0.480439    </span>
<span class="co">#&gt; BldgType       1.538e+03  2.882e+03   0.534 0.593604    </span>
<span class="co">#&gt; HouseStyle    -9.082e+02  9.554e+02  -0.951 0.342071    </span>
<span class="co">#&gt; OverallQual    1.407e+04  1.389e+03  10.131  &lt; 2e-16 ***</span>
<span class="co">#&gt; OverallCond    6.324e+03  1.285e+03   4.921 1.01e-06 ***</span>
<span class="co">#&gt; YearBuilt      3.980e+02  7.979e+01   4.988 7.24e-07 ***</span>
<span class="co">#&gt; YearRemodAdd   8.446e+01  8.320e+01   1.015 0.310245    </span>
<span class="co">#&gt; RoofStyle      7.877e+03  2.025e+03   3.890 0.000107 ***</span>
<span class="co">#&gt; RoofMatl      -2.000e+04  2.180e+03  -9.177  &lt; 2e-16 ***</span>
<span class="co">#&gt; Exterior1st   -1.842e+02  5.877e+02  -0.313 0.754009    </span>
<span class="co">#&gt; Exterior2nd    1.072e+03  5.875e+02   1.825 0.068313 .  </span>
<span class="co">#&gt; MasVnrType     5.219e+03  1.649e+03   3.165 0.001599 ** </span>
<span class="co">#&gt; MasVnrArea     3.484e+01  7.125e+00   4.889 1.19e-06 ***</span>
<span class="co">#&gt; ExterQual      2.853e+03  2.445e+03   1.167 0.243576    </span>
<span class="co">#&gt; ExterCond      5.975e+02  2.691e+03   0.222 0.824309    </span>
<span class="co">#&gt; Foundation    -2.805e+03  1.592e+03  -1.762 0.078363 .  </span>
<span class="co">#&gt; BsmtQual       5.591e+03  1.491e+03   3.750 0.000187 ***</span>
<span class="co">#&gt; BsmtCond      -2.761e+03  1.831e+03  -1.508 0.131891    </span>
<span class="co">#&gt; BsmtExposure   6.216e+03  1.012e+03   6.139 1.22e-09 ***</span>
<span class="co">#&gt; BsmtFinType1  -1.223e+03  8.003e+02  -1.528 0.126911    </span>
<span class="co">#&gt; BsmtFinSF1     2.175e+01  5.596e+00   3.886 0.000109 ***</span>
<span class="co">#&gt; BsmtFinType2  -9.477e+02  1.215e+03  -0.780 0.435696    </span>
<span class="co">#&gt; BsmtFinSF2     2.961e+01  1.023e+01   2.894 0.003885 ** </span>
<span class="co">#&gt; BsmtUnfSF      1.330e+01  5.366e+00   2.479 0.013336 *  </span>
<span class="co">#&gt; Heating       -1.381e+03  3.304e+03  -0.418 0.675962    </span>
<span class="co">#&gt; HeatingQC     -2.487e+03  1.416e+03  -1.756 0.079337 .  </span>
<span class="co">#&gt; CentralAir     4.328e+02  5.302e+03   0.082 0.934966    </span>
<span class="co">#&gt; Electrical     4.427e+03  2.188e+03   2.023 0.043350 *  </span>
<span class="co">#&gt; `1stFlrSF`     5.041e+01  6.871e+00   7.336 4.72e-13 ***</span>
<span class="co">#&gt; `2ndFlrSF`     5.846e+01  5.895e+00   9.917  &lt; 2e-16 ***</span>
<span class="co">#&gt; LowQualFinSF   5.892e-02  2.489e+01   0.002 0.998112    </span>
<span class="co">#&gt; BsmtFullBath   7.223e+03  3.003e+03   2.406 0.016335 *  </span>
<span class="co">#&gt; BsmtHalfBath   2.958e+03  4.499e+03   0.658 0.510973    </span>
<span class="co">#&gt; FullBath       7.812e+03  3.191e+03   2.448 0.014544 *  </span>
<span class="co">#&gt; HalfBath      -1.070e+03  3.057e+03  -0.350 0.726320    </span>
<span class="co">#&gt; BedroomAbvGr  -9.133e+03  1.928e+03  -4.736 2.51e-06 ***</span>
<span class="co">#&gt; KitchenAbvGr  -2.138e+04  6.186e+03  -3.456 0.000573 ***</span>
<span class="co">#&gt; KitchenQual    7.396e+03  1.832e+03   4.038 5.82e-05 ***</span>
<span class="co">#&gt; TotRmsAbvGrd   3.647e+03  1.399e+03   2.607 0.009283 ** </span>
<span class="co">#&gt; Functional    -3.722e+03  1.438e+03  -2.587 0.009819 ** </span>
<span class="co">#&gt; Fireplaces    -2.887e+03  2.612e+03  -1.105 0.269308    </span>
<span class="co">#&gt; FireplaceQu    4.109e+03  1.344e+03   3.056 0.002303 ** </span>
<span class="co">#&gt; GarageType     3.241e+03  1.359e+03   2.384 0.017330 *  </span>
<span class="co">#&gt; GarageYrBlt   -1.749e-01  5.763e+00  -0.030 0.975793    </span>
<span class="co">#&gt; GarageFinish   1.082e+03  1.476e+03   0.733 0.463679    </span>
<span class="co">#&gt; GarageCars     1.417e+04  3.563e+03   3.977 7.50e-05 ***</span>
<span class="co">#&gt; GarageArea    -1.225e+01  1.152e+01  -1.064 0.287808    </span>
<span class="co">#&gt; GarageQual    -1.670e+03  3.297e+03  -0.507 0.612524    </span>
<span class="co">#&gt; GarageCond     2.792e+03  3.696e+03   0.755 0.450196    </span>
<span class="co">#&gt; PavedDrive    -2.721e+03  3.074e+03  -0.885 0.376205    </span>
<span class="co">#&gt; WoodDeckSF     1.671e+01  8.726e+00   1.915 0.055793 .  </span>
<span class="co">#&gt; OpenPorchSF   -2.512e+00  1.787e+01  -0.141 0.888250    </span>
<span class="co">#&gt; EnclosedPorch -1.515e+00  1.825e+01  -0.083 0.933863    </span>
<span class="co">#&gt; `3SsnPorch`    2.202e+01  3.964e+01   0.555 0.578741    </span>
<span class="co">#&gt; ScreenPorch    4.086e+01  1.984e+01   2.060 0.039701 *  </span>
<span class="co">#&gt; PoolArea      -3.660e+01  2.654e+01  -1.379 0.168292    </span>
<span class="co">#&gt; Fence         -1.003e+03  1.280e+03  -0.784 0.433270    </span>
<span class="co">#&gt; MiscVal       -2.868e+00  3.925e+00  -0.731 0.465187    </span>
<span class="co">#&gt; MoSold        -2.269e-01  3.838e+02  -0.001 0.999528    </span>
<span class="co">#&gt; YrSold        -4.870e+02  7.919e+02  -0.615 0.538710    </span>
<span class="co">#&gt; SaleType       2.082e+03  1.378e+03   1.511 0.131105    </span>
<span class="co">#&gt; SaleCondition  9.403e+02  1.378e+03   0.683 0.495024    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 987781866)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 6.7826e+12  on 1023  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 9.3740e+11  on  949  degrees of freedom</span>
<span class="co">#&gt; AIC: 24188</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 2</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 34409.94</span></code></pre></div>
<p><strong>Lasso Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">1</span>, <span class="dt">lambda =</span> <span class="dv">1000</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 38239.51</span></code></pre></div>
<p><strong>Ridge Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 38494.99</span></code></pre></div>
<p><strong>Logistic Regression with CV</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">'SalePrice'</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
coefs &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 36380.9</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">0</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;               tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; OverallQual                         845449699920</span>
<span class="co">#&gt; GarageCars                          557817648990</span>
<span class="co">#&gt; 1stFlrSF                            500466011159</span>
<span class="co">#&gt; GarageArea                          442569801158</span>
<span class="co">#&gt; YearBuilt                           401955574599</span>
<span class="co">#&gt; BsmtFinSF1                          328000806520</span>
<span class="co">#&gt; GarageYrBlt                         307100272538</span>
<span class="co">#&gt; FullBath                            293376329327</span>
<span class="co">#&gt; 2ndFlrSF                            211858751096</span>
<span class="co">#&gt; ExterQual                           202463877042</span>
<span class="co">#&gt; TotRmsAbvGrd                        201749783985</span>
<span class="co">#&gt; YearRemodAdd                        178361420002</span>
<span class="co">#&gt; LotArea                             171934099856</span>
<span class="co">#&gt; MasVnrArea                          170545799030</span>
<span class="co">#&gt; Fireplaces                          139253728657</span>
<span class="co">#&gt; KitchenQual                         131631417710</span>
<span class="co">#&gt; FireplaceQu                         116275216378</span>
<span class="co">#&gt; BsmtQual                            111249167035</span>
<span class="co">#&gt; Foundation                          109268119700</span>
<span class="co">#&gt; OpenPorchSF                          97046676185</span>
<span class="co">#&gt; LotFrontage                          82625654308</span>
<span class="co">#&gt; BsmtFinType1                         82351273675</span>
<span class="co">#&gt; BsmtUnfSF                            70233377545</span>
<span class="co">#&gt; Neighborhood                         60630335711</span>
<span class="co">#&gt; HeatingQC                            59604879762</span>
<span class="co">#&gt; WoodDeckSF                           59298149863</span>
<span class="co">#&gt; BsmtExposure                         52071994524</span>
<span class="co">#&gt; GarageType                           47135251781</span>
<span class="co">#&gt; Exterior2nd                          44561422876</span>
<span class="co">#&gt; BedroomAbvGr                         43227128804</span>
<span class="co">#&gt; MSSubClass                           39764445170</span>
<span class="co">#&gt; MoSold                               37157046355</span>
<span class="co">#&gt; OverallCond                          35754759699</span>
<span class="co">#&gt; RoofStyle                            31963990217</span>
<span class="co">#&gt; HouseStyle                           31629431290</span>
<span class="co">#&gt; Exterior1st                          28664133787</span>
<span class="co">#&gt; GarageFinish                         28024843989</span>
<span class="co">#&gt; BsmtFullBath                         25820971309</span>
<span class="co">#&gt; LotShape                             24875490349</span>
<span class="co">#&gt; YrSold                               23118060196</span>
<span class="co">#&gt; HalfBath                             22359560406</span>
<span class="co">#&gt; LandSlope                            17955690323</span>
<span class="co">#&gt; SaleCondition                        17880787542</span>
<span class="co">#&gt; LandContour                          17327265873</span>
<span class="co">#&gt; MasVnrType                           15379757744</span>
<span class="co">#&gt; MSZoning                             15026735889</span>
<span class="co">#&gt; SaleType                             14711437103</span>
<span class="co">#&gt; LotConfig                            13640725647</span>
<span class="co">#&gt; ScreenPorch                          13574202505</span>
<span class="co">#&gt; CentralAir                           12231045464</span>
<span class="co">#&gt; BldgType                             12040083584</span>
<span class="co">#&gt; RoofMatl                             10340967184</span>
<span class="co">#&gt; BsmtFinSF2                            9978906774</span>
<span class="co">#&gt; PoolArea                              9798411044</span>
<span class="co">#&gt; BsmtCond                              9736042583</span>
<span class="co">#&gt; Condition1                            9244749997</span>
<span class="co">#&gt; GarageCond                            8353313778</span>
<span class="co">#&gt; Fence                                 8347883880</span>
<span class="co">#&gt; EnclosedPorch                         8021422675</span>
<span class="co">#&gt; GarageQual                            7927416736</span>
<span class="co">#&gt; BsmtHalfBath                          7318889285</span>
<span class="co">#&gt; BsmtFinType2                          6479510933</span>
<span class="co">#&gt; ExterCond                             6145392840</span>
<span class="co">#&gt; KitchenAbvGr                          5617505733</span>
<span class="co">#&gt; Functional                            5013995665</span>
<span class="co">#&gt; PavedDrive                            3709018710</span>
<span class="co">#&gt; Heating                               2458639831</span>
<span class="co">#&gt; Electrical                            2327681158</span>
<span class="co">#&gt; 3SsnPorch                             2271370506</span>
<span class="co">#&gt; MiscVal                               1601186046</span>
<span class="co">#&gt; LowQualFinSF                          1286180228</span>
<span class="co">#&gt; Street                                1199486997</span>
<span class="co">#&gt; Condition2                             210624035</span>
<span class="co">#&gt; Utilities                               49500875</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 29847.41</span></code></pre></div>
<p><strong>Xgboost</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"reg:linear"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"rmse"</span>
                      , <span class="dt">maximize =</span> F
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:180036.578125    val-rmse:176147.375000 </span>
<span class="co">#&gt; [51] train-rmse:8286.686523  val-rmse:32168.287109 </span>
<span class="co">#&gt; [101]    train-rmse:4702.442383  val-rmse:31700.927734 </span>
<span class="co">#&gt; [151]    train-rmse:3144.828369  val-rmse:31626.050781 </span>
<span class="co">#&gt; [201]    train-rmse:2190.021484  val-rmse:31569.419922 </span>
<span class="co">#&gt; [251]    train-rmse:1472.920532  val-rmse:31532.380859 </span>
<span class="co">#&gt; [301]    train-rmse:1058.436890  val-rmse:31525.869141 </span>
<span class="co">#&gt; [351]    train-rmse:771.611450   val-rmse:31516.886719 </span>
<span class="co">#&gt; [401]    train-rmse:574.520996   val-rmse:31513.158203 </span>
<span class="co">#&gt; [451]    train-rmse:410.933533   val-rmse:31518.847656 </span>
<span class="co">#&gt; [500]    train-rmse:283.829773   val-rmse:31513.548828</span>
pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 31513.55</span></code></pre></div>
<p><strong>Grid Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective=</span><span class="st">"reg:linear"</span>)

gst &lt;-GridSearchTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> xgb,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>), <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>))
gst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"SalePrice"</span>)
<span class="co">#&gt; [1] "In total, 4 models will be trained"</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:141552.984375 </span>
<span class="co">#&gt; [10] train-rmse:16664.984375</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:141745.453125 </span>
<span class="co">#&gt; [10] train-rmse:16150.928711</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:145963.828125 </span>
<span class="co">#&gt; [10] train-rmse:16339.725586 </span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:141552.984375 </span>
<span class="co">#&gt; [50] train-rmse:4042.118164</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:141745.453125 </span>
<span class="co">#&gt; [50] train-rmse:3997.674072</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:145963.828125 </span>
<span class="co">#&gt; [50] train-rmse:3380.136475 </span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142307.375000 </span>
<span class="co">#&gt; [10] train-rmse:28500.962891</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142811.343750 </span>
<span class="co">#&gt; [10] train-rmse:29140.371094</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:146886.921875 </span>
<span class="co">#&gt; [10] train-rmse:30862.601562 </span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142307.375000 </span>
<span class="co">#&gt; [50] train-rmse:16547.625000</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142811.343750 </span>
<span class="co">#&gt; [50] train-rmse:15941.553711</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:146886.921875 </span>
<span class="co">#&gt; [50] train-rmse:16923.541016</span>
gst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] NaN</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
<p><strong>Random Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>()
rst &lt;-RandomSearchTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> rf,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>),
                             <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>),
                             <span class="dt">n_iter=</span><span class="dv">3</span>)
rst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"SalePrice"</span>)
<span class="co">#&gt; [1] "In total, 3 models will be trained"</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 1024</span>
rst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0.00585942</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 1.986069e-05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] NaN</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
</div>
<div id="binary-classification-data" class="section level3">
<h3 class="hasAnchor">
<a href="#binary-classification-data" class="anchor"></a>Binary Classification Data</h3>
<p>Here, we will solve a simple binary classification problem (predict people who survived on titanic ship). The idea here is to demonstrate how to use this package to solve classification problems.</p>
<p><strong>Data Preparation</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load class</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/load">load</a></span>(<span class="st">'../data/cla_train.rda'</span>)

<span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(cla_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
PassengerId
</th>
<th style="text-align:right;">
Survived
</th>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Sex
</th>
<th style="text-align:right;">
Age
</th>
<th style="text-align:right;">
SibSp
</th>
<th style="text-align:right;">
Parch
</th>
<th style="text-align:left;">
Ticket
</th>
<th style="text-align:right;">
Fare
</th>
<th style="text-align:left;">
Cabin
</th>
<th style="text-align:left;">
Embarked
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Braund, Mr. Owen Harris
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
A/5 21171
</td>
<td style="text-align:right;">
7.2500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Cumings, Mrs. John Bradley (Florence Briggs Thayer)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
PC 17599
</td>
<td style="text-align:right;">
71.2833
</td>
<td style="text-align:left;">
C85
</td>
<td style="text-align:left;">
C
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Heikkinen, Miss. Laina
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
STON/O2. 3101282
</td>
<td style="text-align:right;">
7.9250
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Futrelle, Mrs. Jacques Heath (Lily May Peel)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
113803
</td>
<td style="text-align:right;">
53.1000
</td>
<td style="text-align:left;">
C123
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Allen, Mr. William Henry
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
373450
</td>
<td style="text-align:right;">
8.0500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Moran, Mr. James
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
330877
</td>
<td style="text-align:right;">
8.4583
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Q
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
McCarthy, Mr. Timothy J
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
17463
</td>
<td style="text-align:right;">
51.8625
</td>
<td style="text-align:left;">
E46
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Palsson, Master. Gosta Leonard
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
349909
</td>
<td style="text-align:right;">
21.0750
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
347742
</td>
<td style="text-align:right;">
11.1333
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Nasser, Mrs. Nicholas (Adele Achem)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
237736
</td>
<td style="text-align:right;">
30.0708
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
C
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># split the data</span>
split &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> cla_train<span class="op">$</span>Survived,<span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>cla_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>cla_train[<span class="op">!</span>split<span class="op">$</span>Resample1]

<span class="co"># encode categorical variables - shorter way</span>
<span class="cf">for</span>(c <span class="cf">in</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'Embarked'</span>,<span class="st">'Sex'</span>,<span class="st">'Cabin'</span>)){
    lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()
    lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(xtrain[[c]], xtest[[c]]))
    xtrain[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtrain[[c]])
    xtest[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtest[[c]])
}
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>

<span class="co"># impute missing values</span>
xtrain[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/replace">replace</a></span>(Age, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(Age), <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/median">median</a></span>(Age, <span class="dt">na.rm =</span> T))]
xtest[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/replace">replace</a></span>(Age, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(Age), <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/median">median</a></span>(Age, <span class="dt">na.rm =</span> T))]

<span class="co"># drop these features</span>
to_drop &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'PassengerId'</span>,<span class="st">'Ticket'</span>,<span class="st">'Name'</span>)

xtrain &lt;-<span class="st"> </span>xtrain[,<span class="op">-</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(to_drop), with=F]
xtest &lt;-<span class="st"> </span>xtest[,<span class="op">-</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(to_drop), with=F]</code></pre></div>
<p>Now, our data is ready to be served for model training. Let’s do it.</p>
<p><strong>KNN Classification</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knn &lt;-<span class="st"> </span>KNNTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">k =</span> <span class="dv">2</span>,<span class="dt">prob =</span> T,<span class="dt">type =</span> <span class="st">'class'</span>)
knn<span class="op">$</span><span class="kw">fit_predict</span>(<span class="dt">train =</span> xtrain, <span class="dt">test =</span> xtest, <span class="dt">y =</span> <span class="st">'Survived'</span>)
probs &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw">get_predictions</span>(<span class="dt">type =</span> <span class="st">'prob'</span>)
labels &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw">get_predictions</span>(<span class="dt">type=</span><span class="st">'raw'</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted=</span>labels)
<span class="co">#&gt; [1] 0.6776491</span></code></pre></div>
<p><strong>Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -2.0647  -0.5139  -0.3550   0.5659   2.5979  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)  1.882835   0.667638   2.820  0.00480 ** </span>
<span class="co">#&gt; Pclass      -0.991285   0.198153  -5.003 5.66e-07 ***</span>
<span class="co">#&gt; Sex          3.014839   0.250533  12.034  &lt; 2e-16 ***</span>
<span class="co">#&gt; Age         -0.050270   0.010402  -4.833 1.35e-06 ***</span>
<span class="co">#&gt; SibSp       -0.376242   0.132598  -2.837  0.00455 ** </span>
<span class="co">#&gt; Parch       -0.137521   0.146524  -0.939  0.34796    </span>
<span class="co">#&gt; Fare         0.001671   0.002794   0.598  0.54981    </span>
<span class="co">#&gt; Cabin        0.017868   0.005923   3.017  0.00256 ** </span>
<span class="co">#&gt; Embarked     0.076637   0.148818   0.515  0.60657    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 823.56  on 623  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 495.21  on 615  degrees of freedom</span>
<span class="co">#&gt; AIC: 513.21</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 5</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 0.7930805</span></code></pre></div>
<p><strong>Lasso Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">1</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7960625</span></code></pre></div>
<p><strong>Ridge Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7948466</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">3</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)

pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               83.179331</span>
<span class="co">#&gt; Fare                              49.530245</span>
<span class="co">#&gt; Age                               44.026986</span>
<span class="co">#&gt; Cabin                             27.806777</span>
<span class="co">#&gt; Pclass                            22.210427</span>
<span class="co">#&gt; SibSp                             13.742906</span>
<span class="co">#&gt; Parch                              9.837351</span>
<span class="co">#&gt; Embarked                           6.777296</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7512739</span></code></pre></div>
<p><strong>Xgboost</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"binary:logistic"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"auc"</span>
                      , <span class="dt">maximize =</span> T
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-auc:0.910654  val-auc:0.815229 </span>
<span class="co">#&gt; [51] train-auc:0.977882  val-auc:0.803243 </span>
<span class="co">#&gt; [101]    train-auc:0.990142  val-auc:0.808280 </span>
<span class="co">#&gt; [151]    train-auc:0.994508  val-auc:0.807354 </span>
<span class="co">#&gt; [201]    train-auc:0.996520  val-auc:0.809352 </span>
<span class="co">#&gt; [251]    train-auc:0.997454  val-auc:0.809496 </span>
<span class="co">#&gt; [301]    train-auc:0.998147  val-auc:0.808309 </span>
<span class="co">#&gt; [351]    train-auc:0.998554  val-auc:0.808136 </span>
<span class="co">#&gt; [401]    train-auc:0.998796  val-auc:0.809120 </span>
<span class="co">#&gt; [451]    train-auc:0.999060  val-auc:0.809699 </span>
<span class="co">#&gt; [500]    train-auc:0.999104  val-auc:0.809699</span>

pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8096989</span></code></pre></div>
<p><strong>Grid Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective=</span><span class="st">"binary:logistic"</span>)
gst &lt;-GridSearchTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> xgb,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>),
                             <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>))
gst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"Survived"</span>)
<span class="co">#&gt; [1] "In total, 4 models will be trained"</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.129808 </span>
<span class="co">#&gt; [10] train-error:0.098558</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.105769 </span>
<span class="co">#&gt; [10] train-error:0.088942</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.098558 </span>
<span class="co">#&gt; [10] train-error:0.069712 </span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.129808 </span>
<span class="co">#&gt; [50] train-error:0.038462</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.105769 </span>
<span class="co">#&gt; [50] train-error:0.036058</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.098558 </span>
<span class="co">#&gt; [50] train-error:0.036058 </span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.177885 </span>
<span class="co">#&gt; [10] train-error:0.153846</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.201923 </span>
<span class="co">#&gt; [10] train-error:0.137019</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.182692 </span>
<span class="co">#&gt; [10] train-error:0.115385 </span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.177885 </span>
<span class="co">#&gt; [50] train-error:0.110577</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.201923 </span>
<span class="co">#&gt; [50] train-error:0.096154</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.182692 </span>
<span class="co">#&gt; [50] train-error:0.081731</span>
gst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] 0.883034</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] 0.0242347</span></code></pre></div>
<p><strong>Random Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>()
rst &lt;-RandomSearchTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> rf,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>),
                             <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>),
                             <span class="dt">n_iter =</span> <span class="dv">3</span>)
rst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"Survived"</span>)
<span class="co">#&gt; [1] "In total, 3 models will be trained"</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
<span class="co">#&gt; [1] "hah1"</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; [1] 624</span>
rst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0.849359</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0.0264787</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] 0.8279856</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] 0.02242134</span></code></pre></div>
<p>Let’s create some new feature based on target variable using target encoding and test a model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add target encoding features</span>
xtrain[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                        <span class="dt">test_df =</span> xtest,
                        <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                        <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>train[[<span class="dv">2</span>]]]
xtest[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                               <span class="dt">test_df =</span> xtest,
                               <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                               <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>test[[<span class="dv">2</span>]]]

<span class="co"># train a random forest</span>
<span class="co"># Random Forest</span>
rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">4</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               85.213569</span>
<span class="co">#&gt; Fare                              51.676287</span>
<span class="co">#&gt; Age                               47.071256</span>
<span class="co">#&gt; Cabin                             28.804936</span>
<span class="co">#&gt; Pclass                            22.431287</span>
<span class="co">#&gt; SibSp                             13.735815</span>
<span class="co">#&gt; Parch                              9.643044</span>
<span class="co">#&gt; feat_01                            4.449812</span>
<span class="co">#&gt; Embarked                           4.385365</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7512739</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install">Install</a></li>
      <li><a href="#examples---machine-learning-models">Examples - Machine Learning Models</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Manish Saraswat.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
