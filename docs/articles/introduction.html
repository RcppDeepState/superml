<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to SuperML • SuperML</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to SuperML">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SuperML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction to SuperML</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saraswatmks/superml">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/saraswatmanish/">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="introduction_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to SuperML</h1>
                        <h4 class="author">Manish Saraswat</h4>
            
            <h4 class="date">2019-01-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/saraswatmks/superml/blob/master/vignettes/introduction.Rmd"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<p>SuperML R package is designed to unify the model training process in R like Python. Generally, it’s seen that people spend lot of time in searching for packages, figuring out the syntax for training machine learning models in R. This behaviour is highly apparent in users who frequently switch between R and Python. This package provides a python´s scikit-learn interface (<code>fit</code>, <code>predict</code>) to train models faster.</p>
<p>In addition to building machine learning models, there are handy functionalities to do feature engineering</p>
<p>This ambitious package is my ongoing effort to help the r-community build ML models easily and faster in R.</p>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>You can install latest cran version using:</p>
<p><code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages("superml")</a></code></p>
<p>You can install the developmemt version directly from github using:</p>
<p><code><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">devtools::install_github("saraswatmks/superml")</a></code></p>
</div>
<div id="examples---machine-learning-models" class="section level2">
<h2 class="hasAnchor">
<a href="#examples---machine-learning-models" class="anchor"></a>Examples - Machine Learning Models</h2>
<p>This package uses existing r-packages to build machine learning model. In this tutorial, we’ll use data.table R package to do all tasks related to data manipulation.</p>
<div id="regression-data" class="section level3">
<h3 class="hasAnchor">
<a href="#regression-data" class="anchor"></a>Regression Data</h3>
<p>We’ll quickly prepare the data set to be ready to served for model training.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/load">load</a></span>(<span class="st">"../data/reg_train.rda"</span>)
<span class="co"># if the above doesn't work, you can try: load("reg_train.rda")</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(data.table)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(caret)
<span class="co">#&gt; Loading required package: lattice</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(superml)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(kableExtra)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(Metrics)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'Metrics'</span>
<span class="co">#&gt; The following objects are masked from 'package:caret':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     precision, recall</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(reg_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
Id
</th>
<th style="text-align:right;">
MSSubClass
</th>
<th style="text-align:left;">
MSZoning
</th>
<th style="text-align:right;">
LotFrontage
</th>
<th style="text-align:right;">
LotArea
</th>
<th style="text-align:left;">
Street
</th>
<th style="text-align:left;">
Alley
</th>
<th style="text-align:left;">
LotShape
</th>
<th style="text-align:left;">
LandContour
</th>
<th style="text-align:left;">
Utilities
</th>
<th style="text-align:left;">
LotConfig
</th>
<th style="text-align:left;">
LandSlope
</th>
<th style="text-align:left;">
Neighborhood
</th>
<th style="text-align:left;">
Condition1
</th>
<th style="text-align:left;">
Condition2
</th>
<th style="text-align:left;">
BldgType
</th>
<th style="text-align:left;">
HouseStyle
</th>
<th style="text-align:right;">
OverallQual
</th>
<th style="text-align:right;">
OverallCond
</th>
<th style="text-align:right;">
YearBuilt
</th>
<th style="text-align:right;">
YearRemodAdd
</th>
<th style="text-align:left;">
RoofStyle
</th>
<th style="text-align:left;">
RoofMatl
</th>
<th style="text-align:left;">
Exterior1st
</th>
<th style="text-align:left;">
Exterior2nd
</th>
<th style="text-align:left;">
MasVnrType
</th>
<th style="text-align:right;">
MasVnrArea
</th>
<th style="text-align:left;">
ExterQual
</th>
<th style="text-align:left;">
ExterCond
</th>
<th style="text-align:left;">
Foundation
</th>
<th style="text-align:left;">
BsmtQual
</th>
<th style="text-align:left;">
BsmtCond
</th>
<th style="text-align:left;">
BsmtExposure
</th>
<th style="text-align:left;">
BsmtFinType1
</th>
<th style="text-align:right;">
BsmtFinSF1
</th>
<th style="text-align:left;">
BsmtFinType2
</th>
<th style="text-align:right;">
BsmtFinSF2
</th>
<th style="text-align:right;">
BsmtUnfSF
</th>
<th style="text-align:right;">
TotalBsmtSF
</th>
<th style="text-align:left;">
Heating
</th>
<th style="text-align:left;">
HeatingQC
</th>
<th style="text-align:left;">
CentralAir
</th>
<th style="text-align:left;">
Electrical
</th>
<th style="text-align:right;">
1stFlrSF
</th>
<th style="text-align:right;">
2ndFlrSF
</th>
<th style="text-align:right;">
LowQualFinSF
</th>
<th style="text-align:right;">
GrLivArea
</th>
<th style="text-align:right;">
BsmtFullBath
</th>
<th style="text-align:right;">
BsmtHalfBath
</th>
<th style="text-align:right;">
FullBath
</th>
<th style="text-align:right;">
HalfBath
</th>
<th style="text-align:right;">
BedroomAbvGr
</th>
<th style="text-align:right;">
KitchenAbvGr
</th>
<th style="text-align:left;">
KitchenQual
</th>
<th style="text-align:right;">
TotRmsAbvGrd
</th>
<th style="text-align:left;">
Functional
</th>
<th style="text-align:right;">
Fireplaces
</th>
<th style="text-align:left;">
FireplaceQu
</th>
<th style="text-align:left;">
GarageType
</th>
<th style="text-align:right;">
GarageYrBlt
</th>
<th style="text-align:left;">
GarageFinish
</th>
<th style="text-align:right;">
GarageCars
</th>
<th style="text-align:right;">
GarageArea
</th>
<th style="text-align:left;">
GarageQual
</th>
<th style="text-align:left;">
GarageCond
</th>
<th style="text-align:left;">
PavedDrive
</th>
<th style="text-align:right;">
WoodDeckSF
</th>
<th style="text-align:right;">
OpenPorchSF
</th>
<th style="text-align:right;">
EnclosedPorch
</th>
<th style="text-align:right;">
3SsnPorch
</th>
<th style="text-align:right;">
ScreenPorch
</th>
<th style="text-align:right;">
PoolArea
</th>
<th style="text-align:left;">
PoolQC
</th>
<th style="text-align:left;">
Fence
</th>
<th style="text-align:left;">
MiscFeature
</th>
<th style="text-align:right;">
MiscVal
</th>
<th style="text-align:right;">
MoSold
</th>
<th style="text-align:right;">
YrSold
</th>
<th style="text-align:left;">
SaleType
</th>
<th style="text-align:left;">
SaleCondition
</th>
<th style="text-align:right;">
SalePrice
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
8450
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
706
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:right;">
854
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1710
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
548
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
208500
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
9600
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Veenker
</td>
<td style="text-align:left;">
Feedr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
978
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
284
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
460
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
298
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
181500
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
11250
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
2002
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
162
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
486
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
434
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:right;">
866
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1786
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
608
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
223500
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
9550
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Crawfor
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1915
</td>
<td style="text-align:right;">
1970
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
Wd Sdng
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
961
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1717
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1998
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
642
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
140000
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
14260
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NoRidge
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
655
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
1053
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2198
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
836
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
250000
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
14115
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Mitchel
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Wood
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
732
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:right;">
566
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1362
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
320
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
MnPrv
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
700
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
143000
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
10084
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Somerst
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:right;">
2005
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
1369
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
317
</td>
<td style="text-align:right;">
1686
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
636
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
255
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
307000
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
10382
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NWAmes
</td>
<td style="text-align:left;">
PosN
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
240
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
859
</td>
<td style="text-align:left;">
BLQ
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:right;">
983
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2090
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
484
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
204
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
200000
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RM
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
6120
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
OldTown
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
FuseF
</td>
<td style="text-align:right;">
1022
</td>
<td style="text-align:right;">
752
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1774
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Min1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
468
</td>
<td style="text-align:left;">
Fa
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
129900
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
7420
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
BrkSide
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
2fmCon
</td>
<td style="text-align:left;">
1.5Unf
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
851
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:right;">
991
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
118000
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
split &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> reg_train<span class="op">$</span>SalePrice, <span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>reg_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>reg_train[<span class="op">!</span>split<span class="op">$</span>Resample1]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># remove features with 90% or more missing values</span>
<span class="co"># we will also remove the Id column because it doesn't contain</span>
<span class="co"># any useful information</span>
na_cols &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colSums">colSums</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(xtrain)) <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(xtrain)
na_cols &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(na_cols[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(na_cols <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.9</span>)])

xtrain[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># encode categorical variables</span>
cat_cols &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(xtrain)[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(xtrain, is.character)]

<span class="cf">for</span>(c <span class="cf">in</span> cat_cols){
    lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()
    lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(xtrain[[c]], xtest[[c]]))
    xtrain[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtrain[[c]])
    xtest[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtest[[c]])
}
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA'</span>

<span class="co"># removing noise column</span>
noise &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'GrLivArea'</span>,<span class="st">'TotalBsmtSF'</span>)

xtrain[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># fill missing value with  -1</span>
xtrain[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(xtrain)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span>
xtest[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(xtest)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span></code></pre></div>
<p><strong>KNN Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knn &lt;-<span class="st"> </span>KNNTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">k =</span> <span class="dv">2</span>,<span class="dt">prob =</span> T,<span class="dt">type =</span> <span class="st">'reg'</span>)
knn<span class="op">$</span><span class="kw">fit</span>(<span class="dt">train =</span> xtrain, <span class="dt">test =</span> xtest, <span class="dt">y =</span> <span class="st">'SalePrice'</span>)
probs &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">type =</span> <span class="st">'prob'</span>)
labels &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">type=</span><span class="st">'raw'</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted=</span>labels)
<span class="co">#&gt; [1] 4211.643</span></code></pre></div>
<p><strong>SVM Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#predicts probabilities - must specify mc_type ("OvA_hinge", "AvA_hinge")</span>
svm &lt;-<span class="st"> </span>SVMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">type=</span><span class="st">"ls"</span>)
svm<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">'SalePrice'</span>)
<span class="co">#&gt; Removing invalid columns.  The names should not start with anumber: 1stFlrSF,2ndFlrSF,3SsnPorch</span>
pred &lt;-<span class="st"> </span>svm<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 44357.84</span></code></pre></div>
<p><strong>Simple Regresison</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -102797   -13532      710    12341   163664  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                 Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)   -1.621e+06  1.201e+06  -1.349 0.177534    </span>
<span class="co">#&gt; MSSubClass    -1.109e+02  4.019e+01  -2.760 0.005893 ** </span>
<span class="co">#&gt; MSZoning      -1.145e+02  1.380e+03  -0.083 0.933882    </span>
<span class="co">#&gt; LotFrontage    6.304e+01  2.491e+01   2.530 0.011556 *  </span>
<span class="co">#&gt; LotArea        5.665e-01  9.879e-02   5.734 1.32e-08 ***</span>
<span class="co">#&gt; Street        -5.443e+04  1.372e+04  -3.968 7.81e-05 ***</span>
<span class="co">#&gt; LotShape       1.641e+03  1.546e+03   1.062 0.288660    </span>
<span class="co">#&gt; LandContour    1.592e+03  1.419e+03   1.122 0.262007    </span>
<span class="co">#&gt; Utilities     -2.555e+04  2.596e+04  -0.984 0.325248    </span>
<span class="co">#&gt; LotConfig      1.073e+03  1.069e+03   1.004 0.315585    </span>
<span class="co">#&gt; LandSlope     -3.231e+03  3.619e+03  -0.893 0.372249    </span>
<span class="co">#&gt; Neighborhood   1.251e+02  1.440e+02   0.869 0.385084    </span>
<span class="co">#&gt; Condition1    -1.820e+03  5.120e+02  -3.555 0.000397 ***</span>
<span class="co">#&gt; Condition2    -1.598e+03  3.575e+03  -0.447 0.654955    </span>
<span class="co">#&gt; BldgType      -7.559e+02  1.544e+03  -0.490 0.624483    </span>
<span class="co">#&gt; HouseStyle    -1.906e+02  8.597e+02  -0.222 0.824597    </span>
<span class="co">#&gt; OverallQual    1.116e+04  1.107e+03  10.081  &lt; 2e-16 ***</span>
<span class="co">#&gt; OverallCond    6.496e+03  9.493e+02   6.844 1.38e-11 ***</span>
<span class="co">#&gt; YearBuilt      4.229e+02  6.256e+01   6.760 2.41e-11 ***</span>
<span class="co">#&gt; YearRemodAdd   1.584e+02  6.126e+01   2.585 0.009877 ** </span>
<span class="co">#&gt; RoofStyle      2.137e+03  1.606e+03   1.330 0.183766    </span>
<span class="co">#&gt; RoofMatl      -4.347e+03  1.838e+03  -2.365 0.018207 *  </span>
<span class="co">#&gt; Exterior1st   -3.838e+02  4.915e+02  -0.781 0.435119    </span>
<span class="co">#&gt; Exterior2nd    5.620e+02  4.877e+02   1.152 0.249431    </span>
<span class="co">#&gt; MasVnrType     3.864e+03  1.279e+03   3.022 0.002577 ** </span>
<span class="co">#&gt; MasVnrArea     2.606e+01  5.448e+00   4.783 2.00e-06 ***</span>
<span class="co">#&gt; ExterQual      2.918e+03  1.911e+03   1.527 0.127077    </span>
<span class="co">#&gt; ExterCond      1.183e+03  1.932e+03   0.612 0.540410    </span>
<span class="co">#&gt; Foundation    -1.914e+03  7.783e+02  -2.459 0.014118 *  </span>
<span class="co">#&gt; BsmtQual       6.389e+03  1.141e+03   5.598 2.84e-08 ***</span>
<span class="co">#&gt; BsmtCond      -8.583e+02  1.488e+03  -0.577 0.564211    </span>
<span class="co">#&gt; BsmtExposure   4.529e+03  7.735e+02   5.854 6.59e-09 ***</span>
<span class="co">#&gt; BsmtFinType1  -1.121e+03  5.467e+02  -2.051 0.040530 *  </span>
<span class="co">#&gt; BsmtFinSF1     5.100e+01  4.519e+00  11.284  &lt; 2e-16 ***</span>
<span class="co">#&gt; BsmtFinType2   1.288e+03  1.124e+03   1.146 0.252200    </span>
<span class="co">#&gt; BsmtFinSF2     2.871e+01  8.441e+00   3.402 0.000698 ***</span>
<span class="co">#&gt; BsmtUnfSF      3.058e+01  4.153e+00   7.362 3.92e-13 ***</span>
<span class="co">#&gt; Heating        4.313e+03  3.353e+03   1.286 0.198682    </span>
<span class="co">#&gt; HeatingQC     -2.547e+03  1.081e+03  -2.357 0.018604 *  </span>
<span class="co">#&gt; CentralAir     9.256e+02  4.228e+03   0.219 0.826735    </span>
<span class="co">#&gt; Electrical     1.109e+03  1.759e+03   0.631 0.528441    </span>
<span class="co">#&gt; `1stFlrSF`     5.824e+01  5.382e+00  10.822  &lt; 2e-16 ***</span>
<span class="co">#&gt; `2ndFlrSF`     7.603e+01  4.962e+00  15.320  &lt; 2e-16 ***</span>
<span class="co">#&gt; LowQualFinSF   3.399e+01  2.025e+01   1.679 0.093533 .  </span>
<span class="co">#&gt; BsmtFullBath  -1.355e+03  2.322e+03  -0.584 0.559656    </span>
<span class="co">#&gt; BsmtHalfBath  -5.999e+03  3.520e+03  -1.704 0.088697 .  </span>
<span class="co">#&gt; FullBath      -1.317e+03  2.478e+03  -0.532 0.595086    </span>
<span class="co">#&gt; HalfBath      -1.899e+03  2.280e+03  -0.833 0.405090    </span>
<span class="co">#&gt; BedroomAbvGr  -1.154e+04  1.526e+03  -7.560 9.46e-14 ***</span>
<span class="co">#&gt; KitchenAbvGr  -1.911e+04  4.552e+03  -4.197 2.96e-05 ***</span>
<span class="co">#&gt; KitchenQual    5.793e+03  1.420e+03   4.080 4.89e-05 ***</span>
<span class="co">#&gt; TotRmsAbvGrd   1.278e+03  1.095e+03   1.168 0.243235    </span>
<span class="co">#&gt; Functional    -4.613e+03  1.251e+03  -3.689 0.000238 ***</span>
<span class="co">#&gt; Fireplaces     1.664e+03  2.073e+03   0.803 0.422294    </span>
<span class="co">#&gt; FireplaceQu    1.165e+03  1.146e+03   1.016 0.309774    </span>
<span class="co">#&gt; GarageType     7.915e+01  9.374e+02   0.084 0.932726    </span>
<span class="co">#&gt; GarageYrBlt   -6.497e+00  4.314e+00  -1.506 0.132379    </span>
<span class="co">#&gt; GarageFinish   1.730e+03  1.144e+03   1.512 0.130876    </span>
<span class="co">#&gt; GarageCars     3.598e+03  2.640e+03   1.363 0.173235    </span>
<span class="co">#&gt; GarageArea     2.313e+01  8.553e+00   2.704 0.006972 ** </span>
<span class="co">#&gt; GarageQual    -6.588e+02  2.652e+03  -0.248 0.803875    </span>
<span class="co">#&gt; GarageCond     2.623e+02  1.846e+03   0.142 0.887058    </span>
<span class="co">#&gt; PavedDrive    -8.839e+01  2.573e+03  -0.034 0.972599    </span>
<span class="co">#&gt; WoodDeckSF     6.011e+00  6.907e+00   0.870 0.384341    </span>
<span class="co">#&gt; OpenPorchSF    9.701e+00  1.305e+01   0.744 0.457270    </span>
<span class="co">#&gt; EnclosedPorch  9.194e+00  1.467e+01   0.627 0.530892    </span>
<span class="co">#&gt; `3SsnPorch`   -2.154e+00  2.505e+01  -0.086 0.931485    </span>
<span class="co">#&gt; ScreenPorch    2.602e+01  1.432e+01   1.817 0.069473 .  </span>
<span class="co">#&gt; PoolArea       1.094e+02  2.101e+01   5.210 2.32e-07 ***</span>
<span class="co">#&gt; Fence         -1.310e+03  1.054e+03  -1.243 0.214042    </span>
<span class="co">#&gt; MiscVal       -9.972e-01  1.387e+00  -0.719 0.472324    </span>
<span class="co">#&gt; MoSold         5.962e+01  2.896e+02   0.206 0.836913    </span>
<span class="co">#&gt; YrSold         2.161e+02  5.980e+02   0.361 0.717890    </span>
<span class="co">#&gt; SaleType       5.985e+02  9.414e+02   0.636 0.525051    </span>
<span class="co">#&gt; SaleCondition  1.992e+03  1.083e+03   1.840 0.066039 .  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 584622461)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 6.0710e+12  on 1023  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 5.5481e+11  on  949  degrees of freedom</span>
<span class="co">#&gt; AIC: 23651</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 2</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 52091.09</span></code></pre></div>
<p><strong>Lasso Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">1</span>, <span class="dt">lambda =</span> <span class="dv">1000</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 56756.04</span></code></pre></div>
<p><strong>Ridge Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 57321.31</span></code></pre></div>
<p><strong>Logistic Regression with CV</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">'SalePrice'</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
coefs &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 49380.1</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">0</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;               tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; OverallQual                         777077907419</span>
<span class="co">#&gt; GarageCars                          471379604205</span>
<span class="co">#&gt; 1stFlrSF                            448940150746</span>
<span class="co">#&gt; GarageArea                          417550702080</span>
<span class="co">#&gt; YearBuilt                           343137138960</span>
<span class="co">#&gt; BsmtFinSF1                          271903316313</span>
<span class="co">#&gt; FullBath                            240725747399</span>
<span class="co">#&gt; ExterQual                           221543458690</span>
<span class="co">#&gt; GarageYrBlt                         217024672640</span>
<span class="co">#&gt; TotRmsAbvGrd                        206247915621</span>
<span class="co">#&gt; LotArea                             205721651723</span>
<span class="co">#&gt; 2ndFlrSF                            202975787562</span>
<span class="co">#&gt; YearRemodAdd                        146551361279</span>
<span class="co">#&gt; Fireplaces                          141527377433</span>
<span class="co">#&gt; FireplaceQu                         140364095087</span>
<span class="co">#&gt; KitchenQual                         127372024678</span>
<span class="co">#&gt; Foundation                          100274127133</span>
<span class="co">#&gt; MasVnrArea                           99598314922</span>
<span class="co">#&gt; BsmtQual                             94212912973</span>
<span class="co">#&gt; LotFrontage                          83208983713</span>
<span class="co">#&gt; OpenPorchSF                          77451327284</span>
<span class="co">#&gt; BsmtUnfSF                            62435717838</span>
<span class="co">#&gt; BsmtFinType1                         61752144364</span>
<span class="co">#&gt; GarageType                           50774979288</span>
<span class="co">#&gt; Neighborhood                         49707577503</span>
<span class="co">#&gt; WoodDeckSF                           47409948249</span>
<span class="co">#&gt; HeatingQC                            41430654581</span>
<span class="co">#&gt; BedroomAbvGr                         41035382482</span>
<span class="co">#&gt; Exterior2nd                          40855574502</span>
<span class="co">#&gt; BsmtExposure                         34385383350</span>
<span class="co">#&gt; MSSubClass                           34094608471</span>
<span class="co">#&gt; MoSold                               28070351899</span>
<span class="co">#&gt; GarageFinish                         27835559876</span>
<span class="co">#&gt; BsmtFullBath                         27753726778</span>
<span class="co">#&gt; Exterior1st                          27504608327</span>
<span class="co">#&gt; OverallCond                          26592481731</span>
<span class="co">#&gt; RoofStyle                            26383417681</span>
<span class="co">#&gt; HouseStyle                           24915502636</span>
<span class="co">#&gt; HalfBath                             23695644351</span>
<span class="co">#&gt; LotShape                             19116039117</span>
<span class="co">#&gt; YrSold                               18928080880</span>
<span class="co">#&gt; PoolArea                             17484916470</span>
<span class="co">#&gt; MasVnrType                           16409822380</span>
<span class="co">#&gt; BldgType                             15206914667</span>
<span class="co">#&gt; SaleCondition                        14830035775</span>
<span class="co">#&gt; MSZoning                             14490171215</span>
<span class="co">#&gt; LotConfig                            14476368440</span>
<span class="co">#&gt; LandContour                          12267205681</span>
<span class="co">#&gt; CentralAir                           11724329238</span>
<span class="co">#&gt; Fence                                11492822260</span>
<span class="co">#&gt; LandSlope                            11325062584</span>
<span class="co">#&gt; ScreenPorch                          10196005754</span>
<span class="co">#&gt; SaleType                             10043591177</span>
<span class="co">#&gt; BsmtFinSF2                            9892040434</span>
<span class="co">#&gt; KitchenAbvGr                          9710927662</span>
<span class="co">#&gt; GarageQual                            9396290966</span>
<span class="co">#&gt; EnclosedPorch                         8705820448</span>
<span class="co">#&gt; BsmtFinType2                          8344505715</span>
<span class="co">#&gt; GarageCond                            8073107445</span>
<span class="co">#&gt; BsmtCond                              7600190126</span>
<span class="co">#&gt; ExterCond                             7206915674</span>
<span class="co">#&gt; Functional                            7027963161</span>
<span class="co">#&gt; Condition1                            5237759867</span>
<span class="co">#&gt; PavedDrive                            4642551294</span>
<span class="co">#&gt; RoofMatl                              3773192627</span>
<span class="co">#&gt; Electrical                            3275897728</span>
<span class="co">#&gt; Heating                               2272581616</span>
<span class="co">#&gt; MiscVal                               2234932011</span>
<span class="co">#&gt; BsmtHalfBath                          1970103616</span>
<span class="co">#&gt; 3SsnPorch                             1963354748</span>
<span class="co">#&gt; Condition2                             621878971</span>
<span class="co">#&gt; Street                                 415269592</span>
<span class="co">#&gt; LowQualFinSF                           407818278</span>
<span class="co">#&gt; Utilities                               17778492</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 38076.26</span></code></pre></div>
<p><strong>Xgboost</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"reg:linear"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"rmse"</span>
                      , <span class="dt">maximize =</span> F
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:176984.671875    val-rmse:183876.062500 </span>
<span class="co">#&gt; [51] train-rmse:8554.186523  val-rmse:39907.554688 </span>
<span class="co">#&gt; [101]    train-rmse:5082.486328  val-rmse:40458.679688 </span>
<span class="co">#&gt; [151]    train-rmse:2977.791992  val-rmse:40486.523438 </span>
<span class="co">#&gt; [201]    train-rmse:1976.464478  val-rmse:40452.515625 </span>
<span class="co">#&gt; [251]    train-rmse:1261.031372  val-rmse:40452.898438 </span>
<span class="co">#&gt; [301]    train-rmse:808.697632   val-rmse:40476.363281 </span>
<span class="co">#&gt; [351]    train-rmse:535.721191   val-rmse:40487.894531 </span>
<span class="co">#&gt; [401]    train-rmse:361.522217   val-rmse:40490.667969 </span>
<span class="co">#&gt; [451]    train-rmse:260.979431   val-rmse:40489.289062 </span>
<span class="co">#&gt; [500]    train-rmse:179.495941   val-rmse:40488.898438</span>
pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 40488.9</span></code></pre></div>
<p><strong>Grid Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective=</span><span class="st">"reg:linear"</span>)

gst &lt;-GridSearchCV<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> xgb,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>), <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>))
gst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"SalePrice"</span>)
<span class="co">#&gt; [1] "entering grid search"</span>
<span class="co">#&gt; [1] "In total, 4 models will be trained"</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:137696.250000 </span>
<span class="co">#&gt; [10] train-rmse:15039.261719</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:141760.468750 </span>
<span class="co">#&gt; [10] train-rmse:16764.273438</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142160.796875 </span>
<span class="co">#&gt; [10] train-rmse:15726.110352</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:137696.250000 </span>
<span class="co">#&gt; [50] train-rmse:3582.434814</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:141760.468750 </span>
<span class="co">#&gt; [50] train-rmse:4430.312500</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142160.796875 </span>
<span class="co">#&gt; [50] train-rmse:3917.980957</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:138398.671875 </span>
<span class="co">#&gt; [10] train-rmse:26984.667969</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142718.453125 </span>
<span class="co">#&gt; [10] train-rmse:29367.515625</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:143017.375000 </span>
<span class="co">#&gt; [10] train-rmse:28073.583984</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:138398.671875 </span>
<span class="co">#&gt; [50] train-rmse:15068.557617</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:142718.453125 </span>
<span class="co">#&gt; [50] train-rmse:17017.865234</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:143017.375000 </span>
<span class="co">#&gt; [50] train-rmse:15282.875000</span>
gst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] NaN</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
<p><strong>Random Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>()
rst &lt;-RandomSearchCV<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> rf,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>),
                             <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>),
                             <span class="dt">n_iter=</span><span class="dv">3</span>)
rst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"SalePrice"</span>)
<span class="co">#&gt; [1] "In total, 3 models will be trained"</span>
rst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0.006834079</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0.001678316</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] NaN</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
</div>
<div id="binary-classification-data" class="section level3">
<h3 class="hasAnchor">
<a href="#binary-classification-data" class="anchor"></a>Binary Classification Data</h3>
<p>Here, we will solve a simple binary classification problem (predict people who survived on titanic ship). The idea here is to demonstrate how to use this package to solve classification problems.</p>
<p><strong>Data Preparation</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load class</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/load">load</a></span>(<span class="st">'../data/cla_train.rda'</span>)
<span class="co"># if the above doesn't work, you can try: load("cla_train.rda")</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(cla_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
PassengerId
</th>
<th style="text-align:right;">
Survived
</th>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Sex
</th>
<th style="text-align:right;">
Age
</th>
<th style="text-align:right;">
SibSp
</th>
<th style="text-align:right;">
Parch
</th>
<th style="text-align:left;">
Ticket
</th>
<th style="text-align:right;">
Fare
</th>
<th style="text-align:left;">
Cabin
</th>
<th style="text-align:left;">
Embarked
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Braund, Mr. Owen Harris
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
A/5 21171
</td>
<td style="text-align:right;">
7.2500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Cumings, Mrs. John Bradley (Florence Briggs Thayer)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
PC 17599
</td>
<td style="text-align:right;">
71.2833
</td>
<td style="text-align:left;">
C85
</td>
<td style="text-align:left;">
C
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Heikkinen, Miss. Laina
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
STON/O2. 3101282
</td>
<td style="text-align:right;">
7.9250
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Futrelle, Mrs. Jacques Heath (Lily May Peel)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
113803
</td>
<td style="text-align:right;">
53.1000
</td>
<td style="text-align:left;">
C123
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Allen, Mr. William Henry
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
373450
</td>
<td style="text-align:right;">
8.0500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Moran, Mr. James
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
330877
</td>
<td style="text-align:right;">
8.4583
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Q
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
McCarthy, Mr. Timothy J
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
17463
</td>
<td style="text-align:right;">
51.8625
</td>
<td style="text-align:left;">
E46
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Palsson, Master. Gosta Leonard
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
349909
</td>
<td style="text-align:right;">
21.0750
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
347742
</td>
<td style="text-align:right;">
11.1333
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Nasser, Mrs. Nicholas (Adele Achem)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
237736
</td>
<td style="text-align:right;">
30.0708
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
C
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># split the data</span>
split &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> cla_train<span class="op">$</span>Survived,<span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>cla_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>cla_train[<span class="op">!</span>split<span class="op">$</span>Resample1]

<span class="co"># encode categorical variables - shorter way</span>
<span class="cf">for</span>(c <span class="cf">in</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'Embarked'</span>,<span class="st">'Sex'</span>,<span class="st">'Cabin'</span>)){
    lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()
    lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(xtrain[[c]], xtest[[c]]))
    xtrain[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtrain[[c]])
    xtest[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtest[[c]])
}
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA' </span>
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>

<span class="co"># impute missing values</span>
xtrain[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/replace">replace</a></span>(Age, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(Age), <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/median">median</a></span>(Age, <span class="dt">na.rm =</span> T))]
xtest[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/replace">replace</a></span>(Age, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(Age), <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/median">median</a></span>(Age, <span class="dt">na.rm =</span> T))]

<span class="co"># drop these features</span>
to_drop &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'PassengerId'</span>,<span class="st">'Ticket'</span>,<span class="st">'Name'</span>)

xtrain &lt;-<span class="st"> </span>xtrain[,<span class="op">-</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(to_drop), with=F]
xtest &lt;-<span class="st"> </span>xtest[,<span class="op">-</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(to_drop), with=F]</code></pre></div>
<p>Now, our data is ready to be served for model training. Let’s do it.</p>
<p><strong>KNN Classification</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knn &lt;-<span class="st"> </span>KNNTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">k =</span> <span class="dv">2</span>,<span class="dt">prob =</span> T,<span class="dt">type =</span> <span class="st">'class'</span>)
knn<span class="op">$</span><span class="kw">fit</span>(<span class="dt">train =</span> xtrain, <span class="dt">test =</span> xtest, <span class="dt">y =</span> <span class="st">'Survived'</span>)
probs &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">type =</span> <span class="st">'prob'</span>)
labels &lt;-<span class="st"> </span>knn<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">type=</span><span class="st">'raw'</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted=</span>labels)
<span class="co">#&gt; [1] 0.6776491</span></code></pre></div>
<p><strong>Naive Bayes Classification</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nb &lt;-<span class="st"> </span>NBTrainer<span class="op">$</span><span class="kw">new</span>()
nb<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">'Survived'</span>)
pred &lt;-<span class="st"> </span>nb<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted=</span>pred)
<span class="co">#&gt; [1] 0.710828</span></code></pre></div>
<p><strong>SVM Classification</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#predicts probabilities - must specify mc_type ("OvA_hinge", "AvA_hinge")</span>
svm &lt;-<span class="st"> </span>SVMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">predict.prob =</span> T, <span class="dt">type=</span><span class="st">"bc"</span>, <span class="dt">mc_type=</span><span class="st">"OvA_hinge"</span>)
svm<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">'Survived'</span>)
pred &lt;-<span class="st"> </span>svm<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted=</span>pred[,<span class="dv">2</span>])
<span class="co">#&gt; [1] 0.784916</span>

<span class="co">#predicts labels</span>
svm &lt;-<span class="st"> </span>SVMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">predict.prob =</span> F, <span class="dt">type=</span><span class="st">"bc"</span>)
svm<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">'Survived'</span>)
pred &lt;-<span class="st"> </span>svm<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted=</span>pred)
<span class="co">#&gt; [1] 0.7381008</span></code></pre></div>
<p><strong>Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -2.0647  -0.5139  -0.3550   0.5659   2.5979  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)  1.882835   0.667638   2.820  0.00480 ** </span>
<span class="co">#&gt; Pclass      -0.991285   0.198153  -5.003 5.66e-07 ***</span>
<span class="co">#&gt; Sex          3.014839   0.250533  12.034  &lt; 2e-16 ***</span>
<span class="co">#&gt; Age         -0.050270   0.010402  -4.833 1.35e-06 ***</span>
<span class="co">#&gt; SibSp       -0.376242   0.132598  -2.837  0.00455 ** </span>
<span class="co">#&gt; Parch       -0.137521   0.146524  -0.939  0.34796    </span>
<span class="co">#&gt; Fare         0.001671   0.002794   0.598  0.54981    </span>
<span class="co">#&gt; Cabin        0.017868   0.005923   3.017  0.00256 ** </span>
<span class="co">#&gt; Embarked     0.076637   0.148818   0.515  0.60657    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 823.56  on 623  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 495.21  on 615  degrees of freedom</span>
<span class="co">#&gt; AIC: 513.21</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 5</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 0.7930805</span></code></pre></div>
<p><strong>Lasso Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">1</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7981181</span></code></pre></div>
<p><strong>Ridge Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7937464</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">3</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)

pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               83.179331</span>
<span class="co">#&gt; Fare                              49.530245</span>
<span class="co">#&gt; Age                               44.026986</span>
<span class="co">#&gt; Cabin                             27.806777</span>
<span class="co">#&gt; Pclass                            22.210427</span>
<span class="co">#&gt; SibSp                             13.742906</span>
<span class="co">#&gt; Parch                              9.837351</span>
<span class="co">#&gt; Embarked                           6.777296</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7512739</span></code></pre></div>
<p><strong>Xgboost</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"binary:logistic"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"auc"</span>
                      , <span class="dt">maximize =</span> T
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-auc:0.910654  val-auc:0.815229 </span>
<span class="co">#&gt; [51] train-auc:0.977882  val-auc:0.803243 </span>
<span class="co">#&gt; [101]    train-auc:0.990142  val-auc:0.808280 </span>
<span class="co">#&gt; [151]    train-auc:0.994508  val-auc:0.807354 </span>
<span class="co">#&gt; [201]    train-auc:0.996520  val-auc:0.809352 </span>
<span class="co">#&gt; [251]    train-auc:0.997454  val-auc:0.809496 </span>
<span class="co">#&gt; [301]    train-auc:0.998147  val-auc:0.808309 </span>
<span class="co">#&gt; [351]    train-auc:0.998554  val-auc:0.808136 </span>
<span class="co">#&gt; [401]    train-auc:0.998796  val-auc:0.809120 </span>
<span class="co">#&gt; [451]    train-auc:0.999060  val-auc:0.809699 </span>
<span class="co">#&gt; [500]    train-auc:0.999104  val-auc:0.809699</span>

pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(xtest)
<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8096989</span></code></pre></div>
<p><strong>Grid Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective=</span><span class="st">"binary:logistic"</span>)
gst &lt;-GridSearchCV<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> xgb,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>),
                             <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>))
gst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"Survived"</span>)
<span class="co">#&gt; [1] "entering grid search"</span>
<span class="co">#&gt; [1] "In total, 4 models will be trained"</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.129808 </span>
<span class="co">#&gt; [10] train-error:0.098558</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.105769 </span>
<span class="co">#&gt; [10] train-error:0.088942</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.098558 </span>
<span class="co">#&gt; [10] train-error:0.069712</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.129808 </span>
<span class="co">#&gt; [50] train-error:0.038462</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.105769 </span>
<span class="co">#&gt; [50] train-error:0.036058</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.098558 </span>
<span class="co">#&gt; [50] train-error:0.036058</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.177885 </span>
<span class="co">#&gt; [10] train-error:0.153846</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.201923 </span>
<span class="co">#&gt; [10] train-error:0.137019</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.182692 </span>
<span class="co">#&gt; [10] train-error:0.115385</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.177885 </span>
<span class="co">#&gt; [50] train-error:0.110577</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.201923 </span>
<span class="co">#&gt; [50] train-error:0.096154</span>
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-error:0.182692 </span>
<span class="co">#&gt; [50] train-error:0.081731</span>
gst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] 0.883034</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] 0.0242347</span></code></pre></div>
<p><strong>Random Search</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>()
rst &lt;-RandomSearchCV<span class="op">$</span><span class="kw">new</span>(<span class="dt">trainer =</span> rf,
                             <span class="dt">parameters =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">n_estimators =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>,<span class="dv">50</span>),
                             <span class="dt">max_depth =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">5</span>,<span class="dv">2</span>)),
                             <span class="dt">n_folds =</span> <span class="dv">3</span>,
                             <span class="dt">scoring =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'accuracy'</span>,<span class="st">'auc'</span>),
                             <span class="dt">n_iter =</span> <span class="dv">3</span>)
rst<span class="op">$</span><span class="kw">fit</span>(xtrain, <span class="st">"Survived"</span>)
<span class="co">#&gt; [1] "In total, 3 models will be trained"</span>
rst<span class="op">$</span><span class="kw">best_iteration</span>()
<span class="co">#&gt; $n_estimators</span>
<span class="co">#&gt; [1] 50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $max_depth</span>
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_avg</span>
<span class="co">#&gt; [1] 0.849359</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $accuracy_sd</span>
<span class="co">#&gt; [1] 0.0264787</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_avg</span>
<span class="co">#&gt; [1] 0.8279856</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $auc_sd</span>
<span class="co">#&gt; [1] 0.02242134</span></code></pre></div>
<p>Let’s create some new feature based on target variable using target encoding and test a model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add target encoding features</span>
xtrain[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                        <span class="dt">test_df =</span> xtest,
                        <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                        <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>train[[<span class="dv">2</span>]]]
xtest[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                               <span class="dt">test_df =</span> xtest,
                               <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                               <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>test[[<span class="dv">2</span>]]]

<span class="co"># train a random forest</span>
<span class="co"># Random Forest</span>
rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">4</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               85.213569</span>
<span class="co">#&gt; Fare                              51.676287</span>
<span class="co">#&gt; Age                               47.071256</span>
<span class="co">#&gt; Cabin                             28.804936</span>
<span class="co">#&gt; Pclass                            22.431287</span>
<span class="co">#&gt; SibSp                             13.735815</span>
<span class="co">#&gt; Parch                              9.643044</span>
<span class="co">#&gt; feat_01                            4.449812</span>
<span class="co">#&gt; Embarked                           4.385365</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.7512739</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install">Install</a></li>
      <li><a href="#examples---machine-learning-models">Examples - Machine Learning Models</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Manish Saraswat.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
