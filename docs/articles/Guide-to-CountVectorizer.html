<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to use CountVectorizer in R ? • SuperML</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How to use CountVectorizer in R ?">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SuperML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/superml_tutorial.html">Introduction to superml</a>
    </li>
    <li>
      <a href="../articles/Guide-to-CountVectorizer.html">Guide to CountVectorizer</a>
    </li>
    <li>
      <a href="../articles/Guide-to-TfidfVectorizer.html">Guide to TfIdfVectorizer</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saraswatmks/superml">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/saraswatmanish/">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>How to use CountVectorizer in R ?</h1>
                        <h4 class="author">Manish Saraswat</h4>
            
            <h4 class="date">2020-04-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/saraswatmks/superml/blob/master/vignettes/Guide-to-CountVectorizer.Rmd"><code>vignettes/Guide-to-CountVectorizer.Rmd</code></a></small>
      <div class="hidden name"><code>Guide-to-CountVectorizer.Rmd</code></div>

    </div>

    
    
<p>In this tutorial, we’ll look at how to create bag of words model (token occurence count matrix) in R in two simple steps with superml. Superml borrows speed gains using parallel computation and optimised functions from data.table R package. Bag of words model is often use to analyse text pattern using word occurences in a given text.</p>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>You can install latest cran version using (recommended):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"superml"</span>)</a></code></pre></div>
<p>You can install the developmemt version directly from github using:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"saraswatmks/superml"</span>)</a></code></pre></div>
</div>
<div id="caveats-on-superml-installation" class="section level2">
<h2 class="hasAnchor">
<a href="#caveats-on-superml-installation" class="anchor"></a>Caveats on superml installation</h2>
<p>For machine learning, superml is based on the existing R packages. Hence, while installing the package, we don’t install all the dependencies. However, while training any model, superml will automatically install the package if its not found. Still, if you want to install all dependencies at once, you can simply do:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"superml"</span>, <span class="dt">dependencies=</span><span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="sample-data" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-data" class="anchor"></a>Sample Data</h2>
<p>First, we’ll create a sample data. Feel free to run it alongside in your laptop and check the computation.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(superml)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; Loading required package: R6</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># should be a vector of texts</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">sents &lt;-<span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'i am going home and home'</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">          <span class="st">'where are you going.? //// '</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">          <span class="st">'how does it work'</span>,</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">          <span class="st">'transform your work and go work again'</span>,</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">          <span class="st">'home is where you go from to work'</span>)</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co"># generate more sentences</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12">n &lt;-<span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">sents &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(sents, n) </a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(sents)</a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; [1] 50</span></a></code></pre></div>
<p>For sample, we’ve generated 50 documents. Let’s create the features now. For ease, superml uses the similar API layout as python scikit-learn.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># initialise the class</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">cfv &lt;-<span class="st"> </span>CountVectorizer<span class="op">$</span><span class="kw">new</span>(<span class="dt">max_features =</span> <span class="dv">10</span>, <span class="dt">remove_stopwords =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># generate the matrix</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">cf_mat &lt;-<span class="st"> </span>cfv<span class="op">$</span><span class="kw">fit_transform</span>(sents)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(cf_mat, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;      work home and go going where you again am are</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; [1,]    0    2   1  0     1     0   0     0  1   0</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; [2,]    0    0   0  0     1     1   1     0  0   1</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; [3,]    1    0   0  0     0     0   0     0  0   0</span></a></code></pre></div>
<p><strong>Few observations:</strong></p>
<ul>
<li>
<code>remove_stopwords = FALSE</code> defaults to <code>TRUE</code>. We set it to <code>FALSE</code> since most of the words in our dummy <code>sents</code> are stopwords.</li>
<li>
<code>max_features = 10</code> select the top 10 features (tokens) based on frequency.</li>
</ul>
<p>Now, let’s generate the matrix using its <code>ngram_range</code> features.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># initialise the class</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">cfv &lt;-<span class="st"> </span>CountVectorizer<span class="op">$</span><span class="kw">new</span>(<span class="dt">max_features =</span> <span class="dv">10</span>, <span class="dt">remove_stopwords =</span> <span class="ot">FALSE</span>, <span class="dt">ngram_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co"># generate the matrix</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">cf_mat &lt;-<span class="st"> </span>cfv<span class="op">$</span><span class="kw">fit_transform</span>(sents)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(cf_mat, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;      work home and go going where you again am am going</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; [1,]    0    2   1  0     1     0   0     0  1        1</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; [2,]    0    0   0  0     1     1   1     0  0        0</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; [3,]    1    0   0  0     0     0   0     0  0        0</span></a></code></pre></div>
<p><strong>Few observations:</strong></p>
<ul>
<li>
<code>ngram_range = c(1,3)</code> set the lower and higher range respectively of the resulting ngram tokens.</li>
</ul>
</div>
<div id="usage-for-a-machine-learning-model" class="section level2">
<h2 class="hasAnchor">
<a href="#usage-for-a-machine-learning-model" class="anchor"></a>Usage for a Machine Learning Model</h2>
<p>In order to use Count Vectorizer as an input for a machine learning model, sometimes it gets confusing as to which method <code>fit_transform</code>, <code>fit</code>, <code>transform</code> should be used to generate features for the given data. Here’s a way to do:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(data.table)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(superml)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co"># use sents from above</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">sents &lt;-<span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'i am going home and home'</span>,</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">          <span class="st">'where are you going.? //// '</span>,</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">          <span class="st">'how does it work'</span>,</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">          <span class="st">'transform your work and go work again'</span>,</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">          <span class="st">'home is where you go from to work'</span>,</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">          <span class="st">'how does it work'</span>)</a>
<a class="sourceLine" id="cb7-12" data-line-number="12"></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co"># create dummy data</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14">train &lt;-<span class="st"> </span><span class="kw"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table</a></span>(<span class="dt">text =</span> sents, <span class="dt">target =</span> <span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb7-15" data-line-number="15">test &lt;-<span class="st"> </span><span class="kw"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table</a></span>(<span class="dt">text =</span> <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(sents), <span class="dt">target =</span> <span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dv">3</span>))</a></code></pre></div>
<p>Let’s see how the data looks like:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(train, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt;                           text target</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; 1:    i am going home and home      0</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; 2: where are you going.? ////       1</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt; 3:            how does it work      0</span></a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(test, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#&gt;                                     text target</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">#&gt; 1:                      how does it work      0</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt; 2:              i am going home and home      1</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt; 3: transform your work and go work again      0</span></a></code></pre></div>
<p>Now, we generate features for train-test data:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># initialise the class</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">cfv &lt;-<span class="st"> </span>CountVectorizer<span class="op">$</span><span class="kw">new</span>(<span class="dt">max_features =</span> <span class="dv">12</span>, <span class="dt">remove_stopwords =</span> <span class="ot">FALSE</span>, <span class="dt">ngram_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co"># we fit on train data</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">cfv<span class="op">$</span><span class="kw">fit</span>(train<span class="op">$</span>text)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"></a>
<a class="sourceLine" id="cb10-7" data-line-number="7">train_cf_features &lt;-<span class="st"> </span>cfv<span class="op">$</span><span class="kw"><a href="https://Rdatatable.gitlab.io/data.table/reference/transform.data.table.html">transform</a></span>(train<span class="op">$</span>text)</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">test_cf_features &lt;-<span class="st"> </span>cfv<span class="op">$</span><span class="kw"><a href="https://Rdatatable.gitlab.io/data.table/reference/transform.data.table.html">transform</a></span>(test<span class="op">$</span>text)</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(train_cf_features)</a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; [1]  6 12</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(test_cf_features)</a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt; [1]  6 12</span></a></code></pre></div>
<p>We generate 12 features for each of the given data. Let’s see how they look:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(train_cf_features, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt;      work home and does does it does it work go going how how does how does it</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; [1,]    0    2   1    0       0            0  0     1   0        0           0</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; [2,]    0    0   0    0       0            0  0     1   0        0           0</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; [3,]    1    0   0    1       1            1  0     0   1        1           1</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt;      it</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; [1,]  0</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; [2,]  0</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; [3,]  1</span></a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(test_cf_features, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt;      work home and does does it does it work go going how how does how does it</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt; [1,]    1    0   0    1       1            1  0     0   1        1           1</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#&gt; [2,]    0    2   1    0       0            0  0     1   0        0           0</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt; [3,]    2    0   1    0       0            0  1     0   0        0           0</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt;      it</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt; [1,]  1</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt; [2,]  0</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt; [3,]  0</span></a></code></pre></div>
<p>Finally, to train a machine learning model on this, you can simply do:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co"># ensure the input to classifier is a data.table or data.frame object</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">x_train &lt;-<span class="st"> </span><span class="kw"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(train_cf_features, <span class="dt">target =</span> train<span class="op">$</span>target))</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">x_test &lt;-<span class="st"> </span><span class="kw"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table</a></span>(test_cf_features)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"></a>
<a class="sourceLine" id="cb13-7" data-line-number="7">xgb &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">xgb<span class="op">$</span><span class="kw">fit</span>(x_train, <span class="st">"target"</span>)</a>
<a class="sourceLine" id="cb13-9" data-line-number="9"></a>
<a class="sourceLine" id="cb13-10" data-line-number="10">predictions &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(x_test)</a>
<a class="sourceLine" id="cb13-11" data-line-number="11">predictions</a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt; [1] 1 0 1 1 1 0</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt; Levels: 0 1</span></a></code></pre></div>
</div>
<div id="summary" class="section level2">
<h2 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h2>
<p>In this tutorial, we discussed how to use superml’s countvectorizer (also known as bag of words model) to create word counts matrix and train a machine learning model on it.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install">Install</a></li>
      <li><a href="#caveats-on-superml-installation">Caveats on superml installation</a></li>
      <li><a href="#sample-data">Sample Data</a></li>
      <li><a href="#usage-for-a-machine-learning-model">Usage for a Machine Learning Model</a></li>
      <li><a href="#summary">Summary</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Manish Saraswat.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
