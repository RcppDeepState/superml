<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to superml • SuperML</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to superml">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SuperML</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/superml_tutorial.html">Introduction to superml</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saraswatmks/superml">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/saraswatmanish/">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="superml_tutorial_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to superml</h1>
                        <h4 class="author">Manish Saraswat</h4>
            
            <h4 class="date">2018-11-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/saraswatmks/superml/blob/master/vignettes/superml_tutorial.Rmd"><code>vignettes/superml_tutorial.Rmd</code></a></small>
      <div class="hidden name"><code>superml_tutorial.Rmd</code></div>

    </div>

    
    
<p>SuperML R package is designed to unify the model training process in R like Python. Generally, it’s seen that people spend lot of time in searching for packages, figuring out the syntax for training machine learning models in R. This behaviour is highly apparent in users who frequently switch between R and Python. This package provides a python´s scikit-learn interface (<code>fit</code>, <code>predict</code>) to train models faster.</p>
<p>In addition to building machine learning models, there are handy functionalities to do feature engineering</p>
<p>This ambitious package is my ongoing effort to help the r-community build ML models easily and faster in R.</p>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>This package is still not on cran. Currently, you can install using:</p>
<p><code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github("saraswatmks/superml")</a></code></p>
</div>
<div id="examples---machine-learning-models" class="section level2">
<h2 class="hasAnchor">
<a href="#examples---machine-learning-models" class="anchor"></a>Examples - Machine Learning Models</h2>
<p>This package uses existing r-packages to build machine learning model. In this tutorial, we’ll use data.table R package to do all tasks related to data manipulation.</p>
<div id="regression-data" class="section level3">
<h3 class="hasAnchor">
<a href="#regression-data" class="anchor"></a>Regression Data</h3>
<p>We’ll quickly prepare the data set to be ready to served for model training.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">"../data/reg_train.rda"</span>)

<span class="kw">library</span>(data.table)
<span class="kw">library</span>(caret)
<span class="co">#&gt; Loading required package: lattice</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="co">#&gt; Warning: package 'ggplot2' was built under R version 3.4.4</span>
<span class="kw">library</span>(superml)
<span class="kw">library</span>(kableExtra)
<span class="co">#&gt; Warning: package 'kableExtra' was built under R version 3.4.4</span>
<span class="kw">library</span>(Metrics)

<span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw">head</span>(reg_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
Id
</th>
<th style="text-align:right;">
MSSubClass
</th>
<th style="text-align:left;">
MSZoning
</th>
<th style="text-align:right;">
LotFrontage
</th>
<th style="text-align:right;">
LotArea
</th>
<th style="text-align:left;">
Street
</th>
<th style="text-align:left;">
Alley
</th>
<th style="text-align:left;">
LotShape
</th>
<th style="text-align:left;">
LandContour
</th>
<th style="text-align:left;">
Utilities
</th>
<th style="text-align:left;">
LotConfig
</th>
<th style="text-align:left;">
LandSlope
</th>
<th style="text-align:left;">
Neighborhood
</th>
<th style="text-align:left;">
Condition1
</th>
<th style="text-align:left;">
Condition2
</th>
<th style="text-align:left;">
BldgType
</th>
<th style="text-align:left;">
HouseStyle
</th>
<th style="text-align:right;">
OverallQual
</th>
<th style="text-align:right;">
OverallCond
</th>
<th style="text-align:right;">
YearBuilt
</th>
<th style="text-align:right;">
YearRemodAdd
</th>
<th style="text-align:left;">
RoofStyle
</th>
<th style="text-align:left;">
RoofMatl
</th>
<th style="text-align:left;">
Exterior1st
</th>
<th style="text-align:left;">
Exterior2nd
</th>
<th style="text-align:left;">
MasVnrType
</th>
<th style="text-align:right;">
MasVnrArea
</th>
<th style="text-align:left;">
ExterQual
</th>
<th style="text-align:left;">
ExterCond
</th>
<th style="text-align:left;">
Foundation
</th>
<th style="text-align:left;">
BsmtQual
</th>
<th style="text-align:left;">
BsmtCond
</th>
<th style="text-align:left;">
BsmtExposure
</th>
<th style="text-align:left;">
BsmtFinType1
</th>
<th style="text-align:right;">
BsmtFinSF1
</th>
<th style="text-align:left;">
BsmtFinType2
</th>
<th style="text-align:right;">
BsmtFinSF2
</th>
<th style="text-align:right;">
BsmtUnfSF
</th>
<th style="text-align:right;">
TotalBsmtSF
</th>
<th style="text-align:left;">
Heating
</th>
<th style="text-align:left;">
HeatingQC
</th>
<th style="text-align:left;">
CentralAir
</th>
<th style="text-align:left;">
Electrical
</th>
<th style="text-align:right;">
1stFlrSF
</th>
<th style="text-align:right;">
2ndFlrSF
</th>
<th style="text-align:right;">
LowQualFinSF
</th>
<th style="text-align:right;">
GrLivArea
</th>
<th style="text-align:right;">
BsmtFullBath
</th>
<th style="text-align:right;">
BsmtHalfBath
</th>
<th style="text-align:right;">
FullBath
</th>
<th style="text-align:right;">
HalfBath
</th>
<th style="text-align:right;">
BedroomAbvGr
</th>
<th style="text-align:right;">
KitchenAbvGr
</th>
<th style="text-align:left;">
KitchenQual
</th>
<th style="text-align:right;">
TotRmsAbvGrd
</th>
<th style="text-align:left;">
Functional
</th>
<th style="text-align:right;">
Fireplaces
</th>
<th style="text-align:left;">
FireplaceQu
</th>
<th style="text-align:left;">
GarageType
</th>
<th style="text-align:right;">
GarageYrBlt
</th>
<th style="text-align:left;">
GarageFinish
</th>
<th style="text-align:right;">
GarageCars
</th>
<th style="text-align:right;">
GarageArea
</th>
<th style="text-align:left;">
GarageQual
</th>
<th style="text-align:left;">
GarageCond
</th>
<th style="text-align:left;">
PavedDrive
</th>
<th style="text-align:right;">
WoodDeckSF
</th>
<th style="text-align:right;">
OpenPorchSF
</th>
<th style="text-align:right;">
EnclosedPorch
</th>
<th style="text-align:right;">
3SsnPorch
</th>
<th style="text-align:right;">
ScreenPorch
</th>
<th style="text-align:right;">
PoolArea
</th>
<th style="text-align:left;">
PoolQC
</th>
<th style="text-align:left;">
Fence
</th>
<th style="text-align:left;">
MiscFeature
</th>
<th style="text-align:right;">
MiscVal
</th>
<th style="text-align:right;">
MoSold
</th>
<th style="text-align:right;">
YrSold
</th>
<th style="text-align:left;">
SaleType
</th>
<th style="text-align:left;">
SaleCondition
</th>
<th style="text-align:right;">
SalePrice
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
8450
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
706
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:right;">
854
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1710
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
548
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
208500
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
9600
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Veenker
</td>
<td style="text-align:left;">
Feedr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
978
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
284
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
460
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
298
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
181500
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
11250
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
2002
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
162
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
486
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
434
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:right;">
866
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1786
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
608
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
223500
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
9550
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Crawfor
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1915
</td>
<td style="text-align:right;">
1970
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
Wd Sdng
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
961
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1717
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1998
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
642
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
140000
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
14260
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NoRidge
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
655
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
1053
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2198
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
836
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
250000
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
14115
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Mitchel
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Wood
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
732
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:right;">
566
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1362
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
320
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
MnPrv
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
700
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
143000
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
10084
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Somerst
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:right;">
2005
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
1369
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
317
</td>
<td style="text-align:right;">
1686
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
636
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
255
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
307000
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
10382
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NWAmes
</td>
<td style="text-align:left;">
PosN
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
240
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
859
</td>
<td style="text-align:left;">
BLQ
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:right;">
983
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2090
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
484
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
204
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
200000
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RM
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
6120
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
OldTown
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
FuseF
</td>
<td style="text-align:right;">
1022
</td>
<td style="text-align:right;">
752
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1774
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Min1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
468
</td>
<td style="text-align:left;">
Fa
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
129900
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
7420
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
BrkSide
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
2fmCon
</td>
<td style="text-align:left;">
1.5Unf
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
851
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:right;">
991
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
118000
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
split &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> reg_train<span class="op">$</span>SalePrice, <span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>reg_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>reg_train[<span class="op">!</span>split<span class="op">$</span>Resample1]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># remove features with 90% or more missing values</span>
<span class="co"># we will also remove the Id column because it doesn't contain</span>
<span class="co"># any useful information</span>
na_cols &lt;-<span class="st"> </span><span class="kw">colSums</span>(<span class="kw">is.na</span>(xtrain)) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(xtrain)
na_cols &lt;-<span class="st"> </span><span class="kw">names</span>(na_cols[<span class="kw">which</span>(na_cols <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.9</span>)])

xtrain[, <span class="kw">c</span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw">c</span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># encode categorical variables</span>
cat_cols &lt;-<span class="st"> </span><span class="kw">names</span>(xtrain)[<span class="kw">sapply</span>(xtrain, is.character)]

<span class="cf">for</span>(c <span class="cf">in</span> cat_cols){
    lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()
    lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain[[c]], xtest[[c]]))
    xtrain[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtrain[[c]])
    xtest[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtest[[c]])
}
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA'</span>

<span class="co"># removing noise column</span>
noise &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'GrLivArea'</span>,<span class="st">'TotalBsmtSF'</span>)

xtrain[, <span class="kw">c</span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw">c</span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># fill missing value with  -1</span>
xtrain[<span class="kw">is.na</span>(xtrain)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span>
xtest[<span class="kw">is.na</span>(xtest)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Simple Regression</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
<span class="kw">summary</span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -288636   -14944    -1300    13352   252611  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients: (1 not defined because of singularities)</span>
<span class="co">#&gt;                 Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    8.305e+05  1.556e+06   0.534 0.593773    </span>
<span class="co">#&gt; MSSubClass    -7.685e+01  4.506e+01  -1.705 0.088463 .  </span>
<span class="co">#&gt; MSZoning      -1.965e+03  1.455e+03  -1.350 0.177316    </span>
<span class="co">#&gt; LotFrontage   -2.483e+01  3.215e+01  -0.772 0.440109    </span>
<span class="co">#&gt; LotArea        5.571e-01  1.208e-01   4.613 4.52e-06 ***</span>
<span class="co">#&gt; Street        -3.618e+04  1.737e+04  -2.083 0.037553 *  </span>
<span class="co">#&gt; LotShape      -1.312e+03  2.006e+03  -0.654 0.513282    </span>
<span class="co">#&gt; LandContour    3.203e+03  1.813e+03   1.767 0.077616 .  </span>
<span class="co">#&gt; Utilities             NA         NA      NA       NA    </span>
<span class="co">#&gt; LotConfig      3.668e+03  1.627e+03   2.254 0.024404 *  </span>
<span class="co">#&gt; LandSlope      1.874e+03  4.889e+03   0.383 0.701607    </span>
<span class="co">#&gt; Neighborhood  -5.940e+02  1.982e+02  -2.997 0.002795 ** </span>
<span class="co">#&gt; Condition1    -6.606e+02  9.701e+02  -0.681 0.496094    </span>
<span class="co">#&gt; Condition2    -1.665e+04  3.335e+03  -4.993 7.07e-07 ***</span>
<span class="co">#&gt; BldgType      -2.243e+03  1.938e+03  -1.157 0.247388    </span>
<span class="co">#&gt; HouseStyle     9.602e+01  8.915e+02   0.108 0.914252    </span>
<span class="co">#&gt; OverallQual    1.441e+04  1.360e+03  10.590  &lt; 2e-16 ***</span>
<span class="co">#&gt; OverallCond    5.392e+03  1.257e+03   4.290 1.97e-05 ***</span>
<span class="co">#&gt; YearBuilt      4.012e+02  8.088e+01   4.960 8.34e-07 ***</span>
<span class="co">#&gt; YearRemodAdd   4.747e+01  7.764e+01   0.611 0.541078    </span>
<span class="co">#&gt; RoofStyle      4.066e+03  2.081e+03   1.953 0.051061 .  </span>
<span class="co">#&gt; RoofMatl      -1.342e+04  2.888e+03  -4.647 3.85e-06 ***</span>
<span class="co">#&gt; Exterior1st    1.374e+02  5.457e+02   0.252 0.801210    </span>
<span class="co">#&gt; Exterior2nd    2.492e+02  5.700e+02   0.437 0.662112    </span>
<span class="co">#&gt; MasVnrType    -3.454e+03  1.761e+03  -1.961 0.050163 .  </span>
<span class="co">#&gt; MasVnrArea     3.152e+01  7.053e+00   4.469 8.82e-06 ***</span>
<span class="co">#&gt; ExterQual      6.782e+03  2.537e+03   2.674 0.007633 ** </span>
<span class="co">#&gt; ExterCond     -4.776e+02  1.768e+03  -0.270 0.787088    </span>
<span class="co">#&gt; Foundation     8.243e+01  1.588e+03   0.052 0.958610    </span>
<span class="co">#&gt; BsmtQual       6.282e+03  1.438e+03   4.367 1.40e-05 ***</span>
<span class="co">#&gt; BsmtCond      -1.182e+03  1.894e+03  -0.624 0.532944    </span>
<span class="co">#&gt; BsmtExposure  -2.816e+03  1.360e+03  -2.071 0.038617 *  </span>
<span class="co">#&gt; BsmtFinType1  -6.169e+02  7.477e+02  -0.825 0.409586    </span>
<span class="co">#&gt; BsmtFinSF1     9.267e+00  5.833e+00   1.589 0.112459    </span>
<span class="co">#&gt; BsmtFinType2   2.044e+02  1.377e+03   0.148 0.882039    </span>
<span class="co">#&gt; BsmtFinSF2     6.418e+00  1.022e+01   0.628 0.530206    </span>
<span class="co">#&gt; BsmtUnfSF      7.551e+00  5.488e+00   1.376 0.169119    </span>
<span class="co">#&gt; Heating       -7.220e+02  3.273e+03  -0.221 0.825437    </span>
<span class="co">#&gt; HeatingQC      1.909e+02  1.402e+03   0.136 0.891732    </span>
<span class="co">#&gt; CentralAir    -7.521e+02  5.456e+03  -0.138 0.890388    </span>
<span class="co">#&gt; Electrical     2.218e+03  2.111e+03   1.050 0.293852    </span>
<span class="co">#&gt; `1stFlrSF`     4.218e+01  6.934e+00   6.083 1.71e-09 ***</span>
<span class="co">#&gt; `2ndFlrSF`     3.693e+01  5.659e+00   6.526 1.10e-10 ***</span>
<span class="co">#&gt; LowQualFinSF   1.872e+01  2.529e+01   0.740 0.459429    </span>
<span class="co">#&gt; BsmtFullBath   1.219e+04  2.837e+03   4.297 1.91e-05 ***</span>
<span class="co">#&gt; BsmtHalfBath   5.407e+03  4.549e+03   1.188 0.234946    </span>
<span class="co">#&gt; FullBath       8.630e+03  3.120e+03   2.766 0.005788 ** </span>
<span class="co">#&gt; HalfBath       1.100e+03  2.905e+03   0.378 0.705166    </span>
<span class="co">#&gt; BedroomAbvGr  -7.437e+03  1.964e+03  -3.786 0.000163 ***</span>
<span class="co">#&gt; KitchenAbvGr  -2.149e+04  6.030e+03  -3.564 0.000384 ***</span>
<span class="co">#&gt; KitchenQual    4.969e+03  1.715e+03   2.898 0.003845 ** </span>
<span class="co">#&gt; TotRmsAbvGrd   4.908e+03  1.402e+03   3.500 0.000487 ***</span>
<span class="co">#&gt; Functional    -3.120e+03  1.514e+03  -2.061 0.039537 *  </span>
<span class="co">#&gt; Fireplaces     6.630e+03  2.147e+03   3.087 0.002078 ** </span>
<span class="co">#&gt; FireplaceQu    4.640e+03  1.220e+03   3.804 0.000152 ***</span>
<span class="co">#&gt; GarageType     7.575e+02  1.243e+03   0.609 0.542483    </span>
<span class="co">#&gt; GarageYrBlt   -5.159e+00  5.424e+00  -0.951 0.341796    </span>
<span class="co">#&gt; GarageFinish   2.816e+03  1.432e+03   1.966 0.049555 *  </span>
<span class="co">#&gt; GarageCars     1.347e+04  3.378e+03   3.987 7.22e-05 ***</span>
<span class="co">#&gt; GarageArea     5.489e-01  1.118e+01   0.049 0.960857    </span>
<span class="co">#&gt; GarageQual     2.894e+03  3.713e+03   0.779 0.435902    </span>
<span class="co">#&gt; GarageCond    -4.153e+03  3.129e+03  -1.327 0.184792    </span>
<span class="co">#&gt; PavedDrive    -2.570e+03  2.997e+03  -0.858 0.391238    </span>
<span class="co">#&gt; WoodDeckSF     3.099e+01  8.823e+00   3.513 0.000465 ***</span>
<span class="co">#&gt; OpenPorchSF    9.344e+00  1.633e+01   0.572 0.567233    </span>
<span class="co">#&gt; EnclosedPorch  3.353e+01  1.914e+01   1.752 0.080074 .  </span>
<span class="co">#&gt; `3SsnPorch`    1.930e+01  3.611e+01   0.534 0.593164    </span>
<span class="co">#&gt; ScreenPorch    6.104e+01  1.886e+01   3.237 0.001250 ** </span>
<span class="co">#&gt; PoolArea      -2.239e+02  3.403e+01  -6.578 7.84e-11 ***</span>
<span class="co">#&gt; Fence         -9.298e+02  1.067e+03  -0.871 0.383843    </span>
<span class="co">#&gt; MiscVal        2.310e+00  1.815e+00   1.273 0.203280    </span>
<span class="co">#&gt; MoSold         7.303e+01  3.731e+02   0.196 0.844860    </span>
<span class="co">#&gt; YrSold        -8.810e+02  7.729e+02  -1.140 0.254620    </span>
<span class="co">#&gt; SaleType       2.076e+03  1.165e+03   1.783 0.074974 .  </span>
<span class="co">#&gt; SaleCondition  8.395e+02  1.233e+03   0.681 0.496242    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 947672939)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 6.0324e+12  on 1023  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 9.0029e+11  on  950  degrees of freedom</span>
<span class="co">#&gt; AIC: 24145</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 2</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="co">#&gt; Warning in predict.lm(object, newdata, se.fit, scale = 1, type =</span>
<span class="co">#&gt; ifelse(type == : prediction from a rank-deficient fit may be misleading</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 39576.66</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Lasso Regression</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">1</span>, <span class="dt">lambda =</span> <span class="dv">1000</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 46457.92</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ridge Regression</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 45590.46</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># cross validation logistic</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">'SalePrice'</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
coefs &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 48574.82</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Random Forest</span>
rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">0</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;               tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; OverallQual                         762388648492</span>
<span class="co">#&gt; GarageCars                          443917936129</span>
<span class="co">#&gt; GarageArea                          438415022787</span>
<span class="co">#&gt; ExterQual                           392634180169</span>
<span class="co">#&gt; 1stFlrSF                            389111394288</span>
<span class="co">#&gt; YearBuilt                           348061020505</span>
<span class="co">#&gt; FullBath                            244921917678</span>
<span class="co">#&gt; GarageYrBlt                         224987891963</span>
<span class="co">#&gt; KitchenQual                         202316372983</span>
<span class="co">#&gt; BsmtFinSF1                          196310696874</span>
<span class="co">#&gt; 2ndFlrSF                            191806007761</span>
<span class="co">#&gt; TotRmsAbvGrd                        182146601008</span>
<span class="co">#&gt; LotArea                             181829996190</span>
<span class="co">#&gt; MasVnrArea                          160671536767</span>
<span class="co">#&gt; YearRemodAdd                        148015528521</span>
<span class="co">#&gt; Fireplaces                          146619837937</span>
<span class="co">#&gt; BsmtQual                            100594920086</span>
<span class="co">#&gt; FireplaceQu                          97770197692</span>
<span class="co">#&gt; OpenPorchSF                          82466007572</span>
<span class="co">#&gt; WoodDeckSF                           75577528149</span>
<span class="co">#&gt; LotFrontage                          68552506794</span>
<span class="co">#&gt; BsmtUnfSF                            64260018301</span>
<span class="co">#&gt; Neighborhood                         57704642543</span>
<span class="co">#&gt; HeatingQC                            50929867504</span>
<span class="co">#&gt; GarageType                           48658524141</span>
<span class="co">#&gt; HalfBath                             40521815292</span>
<span class="co">#&gt; MSSubClass                           40332272055</span>
<span class="co">#&gt; BedroomAbvGr                         38902491856</span>
<span class="co">#&gt; OverallCond                          31673065422</span>
<span class="co">#&gt; MoSold                               31464135886</span>
<span class="co">#&gt; MasVnrType                           30820487021</span>
<span class="co">#&gt; BsmtExposure                         29659601614</span>
<span class="co">#&gt; Exterior2nd                          29539375055</span>
<span class="co">#&gt; GarageFinish                         29222993884</span>
<span class="co">#&gt; RoofStyle                            27980738038</span>
<span class="co">#&gt; Exterior1st                          26278475900</span>
<span class="co">#&gt; BsmtFinType1                         24123405529</span>
<span class="co">#&gt; BsmtFullBath                         21543238948</span>
<span class="co">#&gt; SaleType                             18423272848</span>
<span class="co">#&gt; Foundation                           18151392427</span>
<span class="co">#&gt; LotShape                             18060000288</span>
<span class="co">#&gt; HouseStyle                           18033925056</span>
<span class="co">#&gt; YrSold                               17912302468</span>
<span class="co">#&gt; SaleCondition                        17908048161</span>
<span class="co">#&gt; MSZoning                             17088495795</span>
<span class="co">#&gt; LandContour                          16243240135</span>
<span class="co">#&gt; BsmtHalfBath                         14395629154</span>
<span class="co">#&gt; GarageCond                           13602826881</span>
<span class="co">#&gt; LotConfig                            13594582138</span>
<span class="co">#&gt; CentralAir                           13499582766</span>
<span class="co">#&gt; EnclosedPorch                        13312459808</span>
<span class="co">#&gt; RoofMatl                             12796297978</span>
<span class="co">#&gt; LandSlope                            11726075334</span>
<span class="co">#&gt; BldgType                             11600814598</span>
<span class="co">#&gt; Condition1                            9180518813</span>
<span class="co">#&gt; GarageQual                            8596843126</span>
<span class="co">#&gt; Functional                            8551067393</span>
<span class="co">#&gt; ScreenPorch                           7930191094</span>
<span class="co">#&gt; BsmtCond                              6804432449</span>
<span class="co">#&gt; BsmtFinSF2                            6309947600</span>
<span class="co">#&gt; KitchenAbvGr                          6210375729</span>
<span class="co">#&gt; PavedDrive                            6193565641</span>
<span class="co">#&gt; BsmtFinType2                          5719448464</span>
<span class="co">#&gt; ExterCond                             4510600338</span>
<span class="co">#&gt; Fence                                 4435303313</span>
<span class="co">#&gt; Electrical                            3425000994</span>
<span class="co">#&gt; Condition2                            3218685335</span>
<span class="co">#&gt; Heating                               3022339248</span>
<span class="co">#&gt; MiscVal                               1994122437</span>
<span class="co">#&gt; 3SsnPorch                             1602733376</span>
<span class="co">#&gt; PoolArea                               937944638</span>
<span class="co">#&gt; Street                                 622907299</span>
<span class="co">#&gt; LowQualFinSF                           527030467</span>
<span class="co">#&gt; Utilities                                      0</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 34945.84</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># XGBoost</span>
xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"reg:linear"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"rmse"</span>
                      , <span class="dt">maximize =</span> F
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:177067.359375    val-rmse:183883.125000 </span>
<span class="co">#&gt; [51] train-rmse:8336.882812  val-rmse:36358.332031 </span>
<span class="co">#&gt; [101]    train-rmse:5049.429688  val-rmse:35171.792969 </span>
<span class="co">#&gt; [151]    train-rmse:3243.850830  val-rmse:34962.609375 </span>
<span class="co">#&gt; [201]    train-rmse:2092.932129  val-rmse:34885.316406 </span>
<span class="co">#&gt; [251]    train-rmse:1302.330566  val-rmse:34868.789062 </span>
<span class="co">#&gt; [301]    train-rmse:899.406860   val-rmse:34878.847656 </span>
<span class="co">#&gt; [351]    train-rmse:633.702637   val-rmse:34872.972656 </span>
<span class="co">#&gt; [401]    train-rmse:442.377075   val-rmse:34873.195312 </span>
<span class="co">#&gt; [451]    train-rmse:308.838348   val-rmse:34868.191406 </span>
<span class="co">#&gt; [500]    train-rmse:216.254410   val-rmse:34868.695312</span>
pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw">predict</span>(xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 34868.69</span></code></pre></div>
</div>
<div id="binary-classification-data" class="section level3">
<h3 class="hasAnchor">
<a href="#binary-classification-data" class="anchor"></a>Binary Classification Data</h3>
<p>Here, we will solve a simple binary classification problem (predict people who survived on titanic ship). The idea here is to demonstrate how to use this package to solve classification problems.</p>
<p><strong>Data Preparation</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load class</span>
<span class="kw">load</span>(<span class="st">'../data/cla_train.rda'</span>)

<span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw">head</span>(cla_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
PassengerId
</th>
<th style="text-align:right;">
Survived
</th>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Sex
</th>
<th style="text-align:right;">
Age
</th>
<th style="text-align:right;">
SibSp
</th>
<th style="text-align:right;">
Parch
</th>
<th style="text-align:left;">
Ticket
</th>
<th style="text-align:right;">
Fare
</th>
<th style="text-align:left;">
Cabin
</th>
<th style="text-align:left;">
Embarked
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Braund, Mr. Owen Harris
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
A/5 21171
</td>
<td style="text-align:right;">
7.2500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Cumings, Mrs. John Bradley (Florence Briggs Thayer)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
PC 17599
</td>
<td style="text-align:right;">
71.2833
</td>
<td style="text-align:left;">
C85
</td>
<td style="text-align:left;">
C
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Heikkinen, Miss. Laina
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
STON/O2. 3101282
</td>
<td style="text-align:right;">
7.9250
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Futrelle, Mrs. Jacques Heath (Lily May Peel)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
113803
</td>
<td style="text-align:right;">
53.1000
</td>
<td style="text-align:left;">
C123
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Allen, Mr. William Henry
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
373450
</td>
<td style="text-align:right;">
8.0500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Moran, Mr. James
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
330877
</td>
<td style="text-align:right;">
8.4583
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Q
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
McCarthy, Mr. Timothy J
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
17463
</td>
<td style="text-align:right;">
51.8625
</td>
<td style="text-align:left;">
E46
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Palsson, Master. Gosta Leonard
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
349909
</td>
<td style="text-align:right;">
21.0750
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
347742
</td>
<td style="text-align:right;">
11.1333
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Nasser, Mrs. Nicholas (Adele Achem)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
237736
</td>
<td style="text-align:right;">
30.0708
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
C
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># split the data</span>
split &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> cla_train<span class="op">$</span>Survived,<span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>cla_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>cla_train[<span class="op">!</span>split<span class="op">$</span>Resample1]

<span class="co"># encode categorical variables - longer way</span>
lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()

lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain<span class="op">$</span>Embarked, xtest<span class="op">$</span>Embarked))
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtrain[, Embarked <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Embarked)]
xtest[, Embarked <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Embarked)]
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>

lbl1 &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()

lbl1<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain<span class="op">$</span>Sex, xtest<span class="op">$</span>Sex))
xtrain[, Sex <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl1<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Sex)]
xtest[, Sex <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl1<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Sex)]

lbl2 &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()

lbl2<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain<span class="op">$</span>Cabin, xtest<span class="op">$</span>Cabin))
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtrain[, Cabin <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl2<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Cabin)]
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtest[, Cabin <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl2<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Cabin)]
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>

<span class="co"># encode categorical variables - shorter way</span>
<span class="co"># for(c in c('Embarked','Sex','Cabin')){</span>
<span class="co">#     lbl &lt;- LabelEncoder$new()</span>
<span class="co">#     lbl$fit(c(xtrain[[c]], xtest[[c]]))</span>
<span class="co">#     xtrain[[c]] &lt;- lbl$transform(xtrain[[c]])</span>
<span class="co">#     xtest[[c]] &lt;- lbl$transform(xtest[[c]])</span>
<span class="co"># }</span>

<span class="co"># impute missing values</span>
xtrain[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">replace</span>(Age, <span class="kw">is.na</span>(Age), <span class="kw">median</span>(Age, <span class="dt">na.rm =</span> T))]
xtest[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">replace</span>(Age, <span class="kw">is.na</span>(Age), <span class="kw">median</span>(Age, <span class="dt">na.rm =</span> T))]

<span class="co"># drop these features</span>
to_drop &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'PassengerId'</span>,<span class="st">'Ticket'</span>,<span class="st">'Name'</span>)

xtrain &lt;-<span class="st"> </span>xtrain[,<span class="op">-</span><span class="kw">c</span>(to_drop), with=F]
xtest &lt;-<span class="st"> </span>xtest[,<span class="op">-</span><span class="kw">c</span>(to_drop), with=F]</code></pre></div>
<p>Now, our data is ready to be served for model training. Let’s do it.</p>
<p><strong>Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
<span class="kw">summary</span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -2.0412  -0.5675  -0.4147   0.6405   2.4965  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;              Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)  1.422624   0.642783   2.213 0.026882 *  </span>
<span class="co">#&gt; Pclass      -0.810483   0.189792  -4.270 1.95e-05 ***</span>
<span class="co">#&gt; Sex          2.699019   0.238631  11.310  &lt; 2e-16 ***</span>
<span class="co">#&gt; Age         -0.046053   0.009754  -4.721 2.34e-06 ***</span>
<span class="co">#&gt; SibSp       -0.324124   0.131146  -2.471 0.013456 *  </span>
<span class="co">#&gt; Parch       -0.132431   0.145039  -0.913 0.361205    </span>
<span class="co">#&gt; Fare         0.001276   0.003220   0.396 0.691900    </span>
<span class="co">#&gt; Cabin        0.018142   0.005505   3.296 0.000982 ***</span>
<span class="co">#&gt; Embarked     0.243929   0.142191   1.716 0.086253 .  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 814.73  on 623  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 537.44  on 615  degrees of freedom</span>
<span class="co">#&gt; AIC: 555.44</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 5</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 0.8498749</span></code></pre></div>
<p><strong>Lasso Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">1</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8607383</span></code></pre></div>
<p><strong>Ridge Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8572972</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">3</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)

pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               69.497749</span>
<span class="co">#&gt; Fare                              48.744329</span>
<span class="co">#&gt; Age                               46.546454</span>
<span class="co">#&gt; Cabin                             26.147793</span>
<span class="co">#&gt; Pclass                            20.569323</span>
<span class="co">#&gt; SibSp                             11.960032</span>
<span class="co">#&gt; Embarked                           9.807184</span>
<span class="co">#&gt; Parch                              8.916833</span>

<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8177682</span></code></pre></div>
<p><strong>XGBOOST</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"binary:logistic"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"auc"</span>
                      , <span class="dt">maximize =</span> T
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-auc:0.871518  val-auc:0.862416 </span>
<span class="co">#&gt; [51] train-auc:0.969107  val-auc:0.882266 </span>
<span class="co">#&gt; [101]    train-auc:0.984336  val-auc:0.875811 </span>
<span class="co">#&gt; [151]    train-auc:0.990848  val-auc:0.872000 </span>
<span class="co">#&gt; [201]    train-auc:0.993482  val-auc:0.873820 </span>
<span class="co">#&gt; [251]    train-auc:0.995670  val-auc:0.873479 </span>
<span class="co">#&gt; [301]    train-auc:0.997154  val-auc:0.872455 </span>
<span class="co">#&gt; [351]    train-auc:0.997790  val-auc:0.871772 </span>
<span class="co">#&gt; [401]    train-auc:0.998214  val-auc:0.870208 </span>
<span class="co">#&gt; [451]    train-auc:0.998471  val-auc:0.869042 </span>
<span class="co">#&gt; [500]    train-auc:0.998605  val-auc:0.868644</span>

pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw">predict</span>(xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8686441</span></code></pre></div>
<p>Let’s create some new feature based on target variable using target encoding and test a model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add target encoding features</span>
xtrain[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                        <span class="dt">test_df =</span> xtest,
                        <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                        <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>train[[<span class="dv">2</span>]]]
xtest[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                               <span class="dt">test_df =</span> xtest,
                               <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                               <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>test[[<span class="dv">2</span>]]]

<span class="co"># train a random forest</span>
<span class="co"># Random Forest</span>
rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">4</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               71.025202</span>
<span class="co">#&gt; Fare                              51.960577</span>
<span class="co">#&gt; Age                               51.357592</span>
<span class="co">#&gt; Cabin                             25.915233</span>
<span class="co">#&gt; Pclass                            22.019871</span>
<span class="co">#&gt; SibSp                             12.146112</span>
<span class="co">#&gt; Parch                              8.873968</span>
<span class="co">#&gt; Embarked                           6.101673</span>
<span class="co">#&gt; feat_01                            5.737802</span>

<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8202423</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install">Install</a></li>
      <li><a href="#examples---machine-learning-models">Examples - Machine Learning Models</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Manish Saraswat.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
