<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to superml • superml</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to superml">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">superml</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/superml_tutorial.html">Introduction to superml</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saraswatmks/superml">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="superml_tutorial_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to superml</h1>
                        <h4 class="author">Manish Saraswat</h4>
            
            <h4 class="date">2018-11-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/saraswatmks/superml/blob/master/vignettes/superml_tutorial.Rmd"><code>vignettes/superml_tutorial.Rmd</code></a></small>
      <div class="hidden name"><code>superml_tutorial.Rmd</code></div>

    </div>

    
    
<p>SuperML R package is designed to unify the model training process in R like Python. Generally, it’s seen that people spend lot of time in searching for packages, figuring out the syntax for training machine learning models in R. This behaviour is highly apparent in users who frequently switch between R and Python. This package provides a python´s scikit-learn interface (<code>fit</code>, <code>predict</code>) to train models faster.</p>
<p>In addition to building machine learning models, there are handy functionalities to do feature engineering</p>
<p>This ambitious package is my ongoing effort to help the r-community build ML models easily and faster in R.</p>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>This package is still not on cran. Currently, you can install using:</p>
<p><code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github("saraswatmks/superml")</a></code></p>
</div>
<div id="examples---machine-learning-models" class="section level2">
<h2 class="hasAnchor">
<a href="#examples---machine-learning-models" class="anchor"></a>Examples - Machine Learning Models</h2>
<p>This package uses existing r-packages to build machine learning model. In this tutorial, we’ll use data.table R package to do all tasks related to data manipulation.</p>
<div id="regression-data" class="section level3">
<h3 class="hasAnchor">
<a href="#regression-data" class="anchor"></a>Regression Data</h3>
<p>We’ll quickly prepare the data set to be ready to served for model training.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">"../data/reg_train.rda"</span>)

<span class="kw">library</span>(data.table)
<span class="kw">library</span>(caret)
<span class="co">#&gt; Loading required package: lattice</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="co">#&gt; Warning: package 'ggplot2' was built under R version 3.4.4</span>
<span class="kw">library</span>(superml)
<span class="kw">library</span>(kableExtra)
<span class="co">#&gt; Warning: package 'kableExtra' was built under R version 3.4.4</span>
<span class="kw">library</span>(Metrics)

<span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw">head</span>(reg_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
Id
</th>
<th style="text-align:right;">
MSSubClass
</th>
<th style="text-align:left;">
MSZoning
</th>
<th style="text-align:right;">
LotFrontage
</th>
<th style="text-align:right;">
LotArea
</th>
<th style="text-align:left;">
Street
</th>
<th style="text-align:left;">
Alley
</th>
<th style="text-align:left;">
LotShape
</th>
<th style="text-align:left;">
LandContour
</th>
<th style="text-align:left;">
Utilities
</th>
<th style="text-align:left;">
LotConfig
</th>
<th style="text-align:left;">
LandSlope
</th>
<th style="text-align:left;">
Neighborhood
</th>
<th style="text-align:left;">
Condition1
</th>
<th style="text-align:left;">
Condition2
</th>
<th style="text-align:left;">
BldgType
</th>
<th style="text-align:left;">
HouseStyle
</th>
<th style="text-align:right;">
OverallQual
</th>
<th style="text-align:right;">
OverallCond
</th>
<th style="text-align:right;">
YearBuilt
</th>
<th style="text-align:right;">
YearRemodAdd
</th>
<th style="text-align:left;">
RoofStyle
</th>
<th style="text-align:left;">
RoofMatl
</th>
<th style="text-align:left;">
Exterior1st
</th>
<th style="text-align:left;">
Exterior2nd
</th>
<th style="text-align:left;">
MasVnrType
</th>
<th style="text-align:right;">
MasVnrArea
</th>
<th style="text-align:left;">
ExterQual
</th>
<th style="text-align:left;">
ExterCond
</th>
<th style="text-align:left;">
Foundation
</th>
<th style="text-align:left;">
BsmtQual
</th>
<th style="text-align:left;">
BsmtCond
</th>
<th style="text-align:left;">
BsmtExposure
</th>
<th style="text-align:left;">
BsmtFinType1
</th>
<th style="text-align:right;">
BsmtFinSF1
</th>
<th style="text-align:left;">
BsmtFinType2
</th>
<th style="text-align:right;">
BsmtFinSF2
</th>
<th style="text-align:right;">
BsmtUnfSF
</th>
<th style="text-align:right;">
TotalBsmtSF
</th>
<th style="text-align:left;">
Heating
</th>
<th style="text-align:left;">
HeatingQC
</th>
<th style="text-align:left;">
CentralAir
</th>
<th style="text-align:left;">
Electrical
</th>
<th style="text-align:right;">
1stFlrSF
</th>
<th style="text-align:right;">
2ndFlrSF
</th>
<th style="text-align:right;">
LowQualFinSF
</th>
<th style="text-align:right;">
GrLivArea
</th>
<th style="text-align:right;">
BsmtFullBath
</th>
<th style="text-align:right;">
BsmtHalfBath
</th>
<th style="text-align:right;">
FullBath
</th>
<th style="text-align:right;">
HalfBath
</th>
<th style="text-align:right;">
BedroomAbvGr
</th>
<th style="text-align:right;">
KitchenAbvGr
</th>
<th style="text-align:left;">
KitchenQual
</th>
<th style="text-align:right;">
TotRmsAbvGrd
</th>
<th style="text-align:left;">
Functional
</th>
<th style="text-align:right;">
Fireplaces
</th>
<th style="text-align:left;">
FireplaceQu
</th>
<th style="text-align:left;">
GarageType
</th>
<th style="text-align:right;">
GarageYrBlt
</th>
<th style="text-align:left;">
GarageFinish
</th>
<th style="text-align:right;">
GarageCars
</th>
<th style="text-align:right;">
GarageArea
</th>
<th style="text-align:left;">
GarageQual
</th>
<th style="text-align:left;">
GarageCond
</th>
<th style="text-align:left;">
PavedDrive
</th>
<th style="text-align:right;">
WoodDeckSF
</th>
<th style="text-align:right;">
OpenPorchSF
</th>
<th style="text-align:right;">
EnclosedPorch
</th>
<th style="text-align:right;">
3SsnPorch
</th>
<th style="text-align:right;">
ScreenPorch
</th>
<th style="text-align:right;">
PoolArea
</th>
<th style="text-align:left;">
PoolQC
</th>
<th style="text-align:left;">
Fence
</th>
<th style="text-align:left;">
MiscFeature
</th>
<th style="text-align:right;">
MiscVal
</th>
<th style="text-align:right;">
MoSold
</th>
<th style="text-align:right;">
YrSold
</th>
<th style="text-align:left;">
SaleType
</th>
<th style="text-align:left;">
SaleCondition
</th>
<th style="text-align:right;">
SalePrice
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
8450
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
706
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
856
</td>
<td style="text-align:right;">
854
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1710
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2003
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
548
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
208500
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
9600
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Veenker
</td>
<td style="text-align:left;">
Feedr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
978
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
284
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1262
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1976
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
460
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
298
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
181500
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
11250
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
CollgCr
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
2002
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
162
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
486
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
434
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
920
</td>
<td style="text-align:right;">
866
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1786
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
608
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
223500
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
9550
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Crawfor
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1915
</td>
<td style="text-align:right;">
1970
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
Wd Sdng
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
961
</td>
<td style="text-align:right;">
756
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1717
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1998
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
642
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
272
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
140000
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
14260
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
FR2
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NoRidge
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
655
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1145
</td>
<td style="text-align:right;">
1053
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2198
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
836
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
250000
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
14115
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Mitchel
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Wood
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
732
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
796
</td>
<td style="text-align:right;">
566
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1362
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
480
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
320
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
MnPrv
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
700
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
143000
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
10084
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
Somerst
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1Story
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:right;">
2005
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
VinylSd
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
PConc
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Av
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
1369
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
317
</td>
<td style="text-align:right;">
1686
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1694
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
2004
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
636
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
255
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
307000
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
10382
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
IR1
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
NWAmes
</td>
<td style="text-align:left;">
PosN
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
2Story
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
HdBoard
</td>
<td style="text-align:left;">
Stone
</td>
<td style="text-align:right;">
240
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
CBlock
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Mn
</td>
<td style="text-align:left;">
ALQ
</td>
<td style="text-align:right;">
859
</td>
<td style="text-align:left;">
BLQ
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
216
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1107
</td>
<td style="text-align:right;">
983
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2090
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
484
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
204
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Shed
</td>
<td style="text-align:right;">
350
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
200000
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:left;">
RM
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
6120
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Inside
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
OldTown
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Norm
</td>
<td style="text-align:left;">
1Fam
</td>
<td style="text-align:left;">
1.5Fin
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
BrkFace
</td>
<td style="text-align:left;">
Wd Shng
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:right;">
952
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
FuseF
</td>
<td style="text-align:right;">
1022
</td>
<td style="text-align:right;">
752
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1774
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Min1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Detchd
</td>
<td style="text-align:right;">
1931
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
468
</td>
<td style="text-align:left;">
Fa
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Abnorml
</td>
<td style="text-align:right;">
129900
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:left;">
RL
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
7420
</td>
<td style="text-align:left;">
Pave
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Reg
</td>
<td style="text-align:left;">
Lvl
</td>
<td style="text-align:left;">
AllPub
</td>
<td style="text-align:left;">
Corner
</td>
<td style="text-align:left;">
Gtl
</td>
<td style="text-align:left;">
BrkSide
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
Artery
</td>
<td style="text-align:left;">
2fmCon
</td>
<td style="text-align:left;">
1.5Unf
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:left;">
Gable
</td>
<td style="text-align:left;">
CompShg
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
MetalSd
</td>
<td style="text-align:left;">
None
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
BrkTil
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
GLQ
</td>
<td style="text-align:right;">
851
</td>
<td style="text-align:left;">
Unf
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:right;">
991
</td>
<td style="text-align:left;">
GasA
</td>
<td style="text-align:left;">
Ex
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
SBrkr
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1077
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Typ
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Attchd
</td>
<td style="text-align:right;">
1939
</td>
<td style="text-align:left;">
RFn
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:left;">
Gd
</td>
<td style="text-align:left;">
TA
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
WD
</td>
<td style="text-align:left;">
Normal
</td>
<td style="text-align:right;">
118000
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
split &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> reg_train<span class="op">$</span>SalePrice, <span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>reg_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>reg_train[<span class="op">!</span>split<span class="op">$</span>Resample1]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># remove features with 90% or more missing values</span>
<span class="co"># we will also remove the Id column because it doesn't contain</span>
<span class="co"># any useful information</span>
na_cols &lt;-<span class="st"> </span><span class="kw">colSums</span>(<span class="kw">is.na</span>(xtrain)) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(xtrain)
na_cols &lt;-<span class="st"> </span><span class="kw">names</span>(na_cols[<span class="kw">which</span>(na_cols <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.9</span>)])

xtrain[, <span class="kw">c</span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw">c</span>(na_cols, <span class="st">"Id"</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># encode categorical variables</span>
cat_cols &lt;-<span class="st"> </span><span class="kw">names</span>(xtrain)[<span class="kw">sapply</span>(xtrain, is.character)]

<span class="cf">for</span>(c <span class="cf">in</span> cat_cols){
    lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()
    lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain[[c]], xtest[[c]]))
    xtrain[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtrain[[c]])
    xtest[[c]] &lt;-<span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(xtest[[c]])
}
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA' </span>
<span class="co">#&gt; The data contains NA values. Imputing NA with 'NA'</span>

<span class="co"># removing noise column</span>
noise &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'GrLivArea'</span>,<span class="st">'TotalBsmtSF'</span>)

xtrain[, <span class="kw">c</span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]
xtest[, <span class="kw">c</span>(noise) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]

<span class="co"># fill missing value with  -1</span>
xtrain[<span class="kw">is.na</span>(xtrain)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span>
xtest[<span class="kw">is.na</span>(xtest)] &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Simple Regression</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
<span class="kw">summary</span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -351186   -15936    -1684    14096   294914  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                 Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)    7.801e+05  1.778e+06   0.439 0.660933    </span>
<span class="co">#&gt; MSSubClass    -1.568e+02  6.143e+01  -2.553 0.010839 *  </span>
<span class="co">#&gt; MSZoning       5.443e+02  1.583e+03   0.344 0.731108    </span>
<span class="co">#&gt; LotFrontage   -4.652e+01  3.815e+01  -1.219 0.222987    </span>
<span class="co">#&gt; LotArea        2.705e-01  1.473e-01   1.837 0.066596 .  </span>
<span class="co">#&gt; Street        -2.862e+04  1.598e+04  -1.791 0.073604 .  </span>
<span class="co">#&gt; LotShape      -2.399e+03  2.322e+03  -1.033 0.301783    </span>
<span class="co">#&gt; LandContour   -9.011e+02  2.476e+03  -0.364 0.715994    </span>
<span class="co">#&gt; Utilities     -7.790e+04  3.790e+04  -2.056 0.040099 *  </span>
<span class="co">#&gt; LotConfig      3.238e+03  1.195e+03   2.711 0.006838 ** </span>
<span class="co">#&gt; LandSlope      1.096e+04  5.553e+03   1.974 0.048682 *  </span>
<span class="co">#&gt; Neighborhood   1.016e+02  2.349e+02   0.433 0.665342    </span>
<span class="co">#&gt; Condition1    -4.238e+03  1.071e+03  -3.957 8.14e-05 ***</span>
<span class="co">#&gt; Condition2    -6.694e+03  2.899e+03  -2.309 0.021134 *  </span>
<span class="co">#&gt; BldgType      -2.061e+03  2.346e+03  -0.879 0.379826    </span>
<span class="co">#&gt; HouseStyle     8.582e+02  1.159e+03   0.740 0.459319    </span>
<span class="co">#&gt; OverallQual    1.588e+04  1.518e+03  10.459  &lt; 2e-16 ***</span>
<span class="co">#&gt; OverallCond    6.072e+03  1.374e+03   4.418 1.11e-05 ***</span>
<span class="co">#&gt; YearBuilt      3.835e+02  9.774e+01   3.924 9.35e-05 ***</span>
<span class="co">#&gt; YearRemodAdd   6.627e+01  9.200e+01   0.720 0.471499    </span>
<span class="co">#&gt; RoofStyle      5.127e+03  2.100e+03   2.441 0.014823 *  </span>
<span class="co">#&gt; RoofMatl      -2.159e+04  3.645e+03  -5.925 4.38e-09 ***</span>
<span class="co">#&gt; Exterior1st   -2.104e+03  9.304e+02  -2.261 0.023991 *  </span>
<span class="co">#&gt; Exterior2nd    1.328e+03  9.104e+02   1.459 0.144874    </span>
<span class="co">#&gt; MasVnrType     5.898e+03  1.901e+03   3.102 0.001976 ** </span>
<span class="co">#&gt; MasVnrArea     3.705e+01  8.279e+00   4.475 8.55e-06 ***</span>
<span class="co">#&gt; ExterQual      3.905e+03  2.621e+03   1.490 0.136631    </span>
<span class="co">#&gt; ExterCond     -4.091e+02  2.863e+03  -0.143 0.886402    </span>
<span class="co">#&gt; Foundation    -1.813e+03  1.678e+03  -1.081 0.280112    </span>
<span class="co">#&gt; BsmtQual       2.046e+03  1.643e+03   1.245 0.213393    </span>
<span class="co">#&gt; BsmtCond      -1.134e+03  1.824e+03  -0.621 0.534423    </span>
<span class="co">#&gt; BsmtExposure   2.258e+03  1.138e+03   1.985 0.047421 *  </span>
<span class="co">#&gt; BsmtFinType1  -1.419e+03  8.803e+02  -1.612 0.107385    </span>
<span class="co">#&gt; BsmtFinSF1     9.940e+00  6.404e+00   1.552 0.120978    </span>
<span class="co">#&gt; BsmtFinType2  -1.507e+03  1.298e+03  -1.161 0.245856    </span>
<span class="co">#&gt; BsmtFinSF2     2.433e+01  1.113e+01   2.186 0.029026 *  </span>
<span class="co">#&gt; BsmtUnfSF      4.624e+00  6.048e+00   0.765 0.444755    </span>
<span class="co">#&gt; Heating       -1.703e+03  4.311e+03  -0.395 0.692941    </span>
<span class="co">#&gt; HeatingQC     -2.112e+03  1.561e+03  -1.353 0.176278    </span>
<span class="co">#&gt; CentralAir     5.438e+03  6.094e+03   0.892 0.372430    </span>
<span class="co">#&gt; Electrical     1.831e+03  2.286e+03   0.801 0.423375    </span>
<span class="co">#&gt; `1stFlrSF`     6.132e+01  7.640e+00   8.026 2.97e-15 ***</span>
<span class="co">#&gt; `2ndFlrSF`     5.760e+01  6.593e+00   8.737  &lt; 2e-16 ***</span>
<span class="co">#&gt; LowQualFinSF  -3.833e+00  2.468e+01  -0.155 0.876591    </span>
<span class="co">#&gt; BsmtFullBath   9.090e+03  3.349e+03   2.714 0.006764 ** </span>
<span class="co">#&gt; BsmtHalfBath   5.469e+03  5.312e+03   1.030 0.303415    </span>
<span class="co">#&gt; FullBath       9.240e+03  3.604e+03   2.564 0.010503 *  </span>
<span class="co">#&gt; HalfBath      -2.168e+03  3.302e+03  -0.657 0.511600    </span>
<span class="co">#&gt; BedroomAbvGr  -9.368e+03  2.188e+03  -4.282 2.04e-05 ***</span>
<span class="co">#&gt; KitchenAbvGr  -1.338e+04  7.393e+03  -1.811 0.070522 .  </span>
<span class="co">#&gt; KitchenQual    8.757e+03  2.054e+03   4.263 2.22e-05 ***</span>
<span class="co">#&gt; TotRmsAbvGrd   2.761e+03  1.554e+03   1.776 0.075976 .  </span>
<span class="co">#&gt; Functional    -4.987e+03  1.836e+03  -2.717 0.006714 ** </span>
<span class="co">#&gt; Fireplaces    -2.332e+03  2.884e+03  -0.809 0.418901    </span>
<span class="co">#&gt; FireplaceQu    5.366e+03  1.492e+03   3.597 0.000338 ***</span>
<span class="co">#&gt; GarageType    -3.644e+02  1.420e+03  -0.257 0.797508    </span>
<span class="co">#&gt; GarageYrBlt   -3.931e+00  6.165e+00  -0.638 0.523877    </span>
<span class="co">#&gt; GarageFinish   1.532e+03  1.646e+03   0.930 0.352356    </span>
<span class="co">#&gt; GarageCars     1.782e+04  3.636e+03   4.900 1.13e-06 ***</span>
<span class="co">#&gt; GarageArea    -1.044e+01  1.208e+01  -0.864 0.387755    </span>
<span class="co">#&gt; GarageQual     4.896e+03  4.270e+03   1.147 0.251871    </span>
<span class="co">#&gt; GarageCond    -1.288e+03  3.573e+03  -0.360 0.718586    </span>
<span class="co">#&gt; PavedDrive    -1.901e+03  3.329e+03  -0.571 0.568072    </span>
<span class="co">#&gt; WoodDeckSF     2.289e+01  9.961e+00   2.297 0.021816 *  </span>
<span class="co">#&gt; OpenPorchSF   -2.259e+01  1.894e+01  -1.192 0.233468    </span>
<span class="co">#&gt; EnclosedPorch  7.333e+00  2.088e+01   0.351 0.725504    </span>
<span class="co">#&gt; `3SsnPorch`    1.610e+01  3.854e+01   0.418 0.676197    </span>
<span class="co">#&gt; ScreenPorch    7.031e+01  2.138e+01   3.288 0.001046 ** </span>
<span class="co">#&gt; PoolArea       8.630e+00  2.605e+01   0.331 0.740530    </span>
<span class="co">#&gt; Fence         -1.477e+03  1.636e+03  -0.903 0.366709    </span>
<span class="co">#&gt; MiscVal       -1.386e-01  2.030e+00  -0.068 0.945584    </span>
<span class="co">#&gt; MoSold        -2.197e+02  4.333e+02  -0.507 0.612355    </span>
<span class="co">#&gt; YrSold        -8.678e+02  8.813e+02  -0.985 0.325044    </span>
<span class="co">#&gt; SaleType       1.859e+03  1.544e+03   1.204 0.228874    </span>
<span class="co">#&gt; SaleCondition -1.841e+02  1.440e+03  -0.128 0.898317    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 1231064297)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 7.0509e+12  on 1023  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 1.1683e+12  on  949  degrees of freedom</span>
<span class="co">#&gt; AIC: 24414</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 2</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 30245.52</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Lasso Regression</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">1</span>, <span class="dt">lambda =</span> <span class="dv">1000</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 32158.09</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ridge Regression</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 31955.43</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># cross validation logistic</span>
lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family =</span> <span class="st">"gaussian"</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">'SalePrice'</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
coefs &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 33380.26</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Random Forest</span>
rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">0</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;               tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; OverallQual                         892015002114</span>
<span class="co">#&gt; GarageCars                          580095672696</span>
<span class="co">#&gt; 1stFlrSF                            551006756688</span>
<span class="co">#&gt; GarageArea                          482730128267</span>
<span class="co">#&gt; YearBuilt                           379155156995</span>
<span class="co">#&gt; 2ndFlrSF                            286898459341</span>
<span class="co">#&gt; BsmtQual                            273228678802</span>
<span class="co">#&gt; GarageYrBlt                         268055763572</span>
<span class="co">#&gt; FullBath                            257762688644</span>
<span class="co">#&gt; BsmtFinSF1                          246265551684</span>
<span class="co">#&gt; TotRmsAbvGrd                        238135061982</span>
<span class="co">#&gt; LotArea                             190461528520</span>
<span class="co">#&gt; YearRemodAdd                        168625092643</span>
<span class="co">#&gt; MasVnrArea                          167146225522</span>
<span class="co">#&gt; ExterQual                           160679558003</span>
<span class="co">#&gt; FireplaceQu                         158885823506</span>
<span class="co">#&gt; KitchenQual                         146930953849</span>
<span class="co">#&gt; Fireplaces                          146757184141</span>
<span class="co">#&gt; Foundation                          106861043233</span>
<span class="co">#&gt; LotFrontage                         105834595339</span>
<span class="co">#&gt; BsmtFinType1                         80710253279</span>
<span class="co">#&gt; OpenPorchSF                          78207592970</span>
<span class="co">#&gt; BsmtUnfSF                            74250027071</span>
<span class="co">#&gt; WoodDeckSF                           62687678058</span>
<span class="co">#&gt; BedroomAbvGr                         56340393746</span>
<span class="co">#&gt; Neighborhood                         55936297424</span>
<span class="co">#&gt; HeatingQC                            52848805278</span>
<span class="co">#&gt; GarageType                           50975015733</span>
<span class="co">#&gt; MoSold                               45797986317</span>
<span class="co">#&gt; RoofStyle                            44539460385</span>
<span class="co">#&gt; Exterior2nd                          37414849177</span>
<span class="co">#&gt; MSSubClass                           35932445836</span>
<span class="co">#&gt; OverallCond                          34646250079</span>
<span class="co">#&gt; Exterior1st                          29465400537</span>
<span class="co">#&gt; GarageFinish                         28982404019</span>
<span class="co">#&gt; HouseStyle                           28654728262</span>
<span class="co">#&gt; HalfBath                             27432504548</span>
<span class="co">#&gt; YrSold                               24042442692</span>
<span class="co">#&gt; BsmtFullBath                         23673232687</span>
<span class="co">#&gt; BsmtExposure                         23537950711</span>
<span class="co">#&gt; LotShape                             22344978608</span>
<span class="co">#&gt; LandContour                          18482089218</span>
<span class="co">#&gt; ScreenPorch                          18250314019</span>
<span class="co">#&gt; SaleCondition                        18191979503</span>
<span class="co">#&gt; MSZoning                             18022836241</span>
<span class="co">#&gt; CentralAir                           17429930426</span>
<span class="co">#&gt; MasVnrType                           17333861146</span>
<span class="co">#&gt; LotConfig                            15652609143</span>
<span class="co">#&gt; PoolArea                             15093108140</span>
<span class="co">#&gt; SaleType                             13801552966</span>
<span class="co">#&gt; BldgType                             12916702571</span>
<span class="co">#&gt; BsmtFinSF2                           12620326622</span>
<span class="co">#&gt; Condition1                           11820443500</span>
<span class="co">#&gt; GarageQual                            9604291018</span>
<span class="co">#&gt; EnclosedPorch                         9350405462</span>
<span class="co">#&gt; Fence                                 9304676386</span>
<span class="co">#&gt; GarageCond                            8750257160</span>
<span class="co">#&gt; Functional                            8636495899</span>
<span class="co">#&gt; BsmtHalfBath                          8570533306</span>
<span class="co">#&gt; ExterCond                             8352198575</span>
<span class="co">#&gt; LandSlope                             7777281170</span>
<span class="co">#&gt; KitchenAbvGr                          7564004492</span>
<span class="co">#&gt; BsmtFinType2                          7063667834</span>
<span class="co">#&gt; RoofMatl                              7035151273</span>
<span class="co">#&gt; BsmtCond                              6308755046</span>
<span class="co">#&gt; PavedDrive                            5031674600</span>
<span class="co">#&gt; Heating                               4386977789</span>
<span class="co">#&gt; Electrical                            3824231573</span>
<span class="co">#&gt; 3SsnPorch                             2779688252</span>
<span class="co">#&gt; Condition2                            2638784183</span>
<span class="co">#&gt; MiscVal                               2066825890</span>
<span class="co">#&gt; LowQualFinSF                           680779059</span>
<span class="co">#&gt; Street                                 591180736</span>
<span class="co">#&gt; Utilities                               17963846</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 23922.73</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># XGBoost</span>
xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"reg:linear"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"rmse"</span>
                      , <span class="dt">maximize =</span> F
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"SalePrice"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-rmse:181361.421875    val-rmse:172935.453125 </span>
<span class="co">#&gt; [51] train-rmse:8258.788086  val-rmse:24954.832031 </span>
<span class="co">#&gt; [101]    train-rmse:4810.878906  val-rmse:24586.806641 </span>
<span class="co">#&gt; [151]    train-rmse:3174.169922  val-rmse:24471.296875 </span>
<span class="co">#&gt; [201]    train-rmse:2203.218018  val-rmse:24404.855469 </span>
<span class="co">#&gt; [251]    train-rmse:1463.526367  val-rmse:24355.326172 </span>
<span class="co">#&gt; [301]    train-rmse:1075.521118  val-rmse:24338.697266 </span>
<span class="co">#&gt; [351]    train-rmse:746.491028   val-rmse:24325.802734 </span>
<span class="co">#&gt; [401]    train-rmse:493.639587   val-rmse:24319.054688 </span>
<span class="co">#&gt; [451]    train-rmse:350.677246   val-rmse:24310.740234 </span>
<span class="co">#&gt; [500]    train-rmse:248.965790   val-rmse:24307.537109</span>
pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw">predict</span>(xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/rmse">rmse</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>SalePrice, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 24307.54</span></code></pre></div>
</div>
<div id="binary-classification-data" class="section level3">
<h3 class="hasAnchor">
<a href="#binary-classification-data" class="anchor"></a>Binary Classification Data</h3>
<p>Here, we will solve a simple binary classification problem (predict people who survived on titanic ship). The idea here is to demonstrate how to use this package to solve classification problems.</p>
<p><strong>Data Preparation</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load class</span>
<span class="kw">load</span>(<span class="st">'../data/cla_train.rda'</span>)

<span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw">head</span>(cla_train, <span class="dv">10</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/scroll_box">scroll_box</a></span>(<span class="dt">width =</span> <span class="st">"100%"</span>, <span class="dt">height =</span> <span class="st">"300px"</span>)</code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table">
<thead><tr>
<th style="text-align:right;">
PassengerId
</th>
<th style="text-align:right;">
Survived
</th>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Sex
</th>
<th style="text-align:right;">
Age
</th>
<th style="text-align:right;">
SibSp
</th>
<th style="text-align:right;">
Parch
</th>
<th style="text-align:left;">
Ticket
</th>
<th style="text-align:right;">
Fare
</th>
<th style="text-align:left;">
Cabin
</th>
<th style="text-align:left;">
Embarked
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Braund, Mr. Owen Harris
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
A/5 21171
</td>
<td style="text-align:right;">
7.2500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Cumings, Mrs. John Bradley (Florence Briggs Thayer)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
PC 17599
</td>
<td style="text-align:right;">
71.2833
</td>
<td style="text-align:left;">
C85
</td>
<td style="text-align:left;">
C
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Heikkinen, Miss. Laina
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
STON/O2. 3101282
</td>
<td style="text-align:right;">
7.9250
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Futrelle, Mrs. Jacques Heath (Lily May Peel)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
113803
</td>
<td style="text-align:right;">
53.1000
</td>
<td style="text-align:left;">
C123
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Allen, Mr. William Henry
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
373450
</td>
<td style="text-align:right;">
8.0500
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Moran, Mr. James
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
330877
</td>
<td style="text-align:right;">
8.4583
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Q
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
McCarthy, Mr. Timothy J
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
17463
</td>
<td style="text-align:right;">
51.8625
</td>
<td style="text-align:left;">
E46
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Palsson, Master. Gosta Leonard
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
349909
</td>
<td style="text-align:right;">
21.0750
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
347742
</td>
<td style="text-align:right;">
11.1333
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
S
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Nasser, Mrs. Nicholas (Adele Achem)
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
237736
</td>
<td style="text-align:right;">
30.0708
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
C
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># split the data</span>
split &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/caret/topics/createDataPartition">createDataPartition</a></span>(<span class="dt">y =</span> cla_train<span class="op">$</span>Survived,<span class="dt">p =</span> <span class="fl">0.7</span>)
xtrain &lt;-<span class="st"> </span>cla_train[split<span class="op">$</span>Resample1]
xtest &lt;-<span class="st"> </span>cla_train[<span class="op">!</span>split<span class="op">$</span>Resample1]

<span class="co"># encode categorical variables - longer way</span>
lbl &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()

lbl<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain<span class="op">$</span>Embarked, xtest<span class="op">$</span>Embarked))
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtrain[, Embarked <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Embarked)]
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtest[, Embarked <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Embarked)]

lbl1 &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()

lbl1<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain<span class="op">$</span>Sex, xtest<span class="op">$</span>Sex))
xtrain[, Sex <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl1<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Sex)]
xtest[, Sex <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl1<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Sex)]

lbl2 &lt;-<span class="st"> </span>LabelEncoder<span class="op">$</span><span class="kw">new</span>()

lbl2<span class="op">$</span><span class="kw">fit</span>(<span class="kw">c</span>(xtrain<span class="op">$</span>Cabin, xtest<span class="op">$</span>Cabin))
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtrain[, Cabin <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl2<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Cabin)]
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>
xtest[, Cabin <span class="op">:</span><span class="er">=</span><span class="st"> </span>lbl2<span class="op">$</span><span class="kw"><a href="http://www.rdocumentation.org/packages/data.table/topics/transform.data.table">transform</a></span>(Cabin)]
<span class="co">#&gt; The data contains blank values. Imputing them with 'NA'</span>

<span class="co"># encode categorical variables - shorter way</span>
<span class="co"># for(c in c('Embarked','Sex','Cabin')){</span>
<span class="co">#     lbl &lt;- LabelEncoder$new()</span>
<span class="co">#     lbl$fit(c(xtrain[[c]], xtest[[c]]))</span>
<span class="co">#     xtrain[[c]] &lt;- lbl$transform(xtrain[[c]])</span>
<span class="co">#     xtest[[c]] &lt;- lbl$transform(xtest[[c]])</span>
<span class="co"># }</span>

<span class="co"># impute missing values</span>
xtrain[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">replace</span>(Age, <span class="kw">is.na</span>(Age), <span class="kw">median</span>(Age, <span class="dt">na.rm =</span> T))]
xtest[, Age <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">replace</span>(Age, <span class="kw">is.na</span>(Age), <span class="kw">median</span>(Age, <span class="dt">na.rm =</span> T))]

<span class="co"># drop these features</span>
to_drop &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'PassengerId'</span>,<span class="st">'Ticket'</span>,<span class="st">'Name'</span>)

xtrain &lt;-<span class="st"> </span>xtrain[,<span class="op">-</span><span class="kw">c</span>(to_drop), with=F]
xtest &lt;-<span class="st"> </span>xtest[,<span class="op">-</span><span class="kw">c</span>(to_drop), with=F]</code></pre></div>
<p>Now, our data is ready to be served for model training. Let’s do it.</p>
<p><strong>Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>)
lf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
<span class="kw">summary</span>(lf<span class="op">$</span>model)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; glm(formula = f, family = self$family, data = X, weights = self$weights)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Deviance Residuals: </span>
<span class="co">#&gt;     Min       1Q   Median       3Q      Max  </span>
<span class="co">#&gt; -2.6857  -0.5810  -0.4039   0.6354   2.3994  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;               Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="co">#&gt; (Intercept)  1.8367681  0.6362911   2.887  0.00389 ** </span>
<span class="co">#&gt; Pclass      -0.9430035  0.1906608  -4.946 7.58e-07 ***</span>
<span class="co">#&gt; Sex          2.7606332  0.2415683  11.428  &lt; 2e-16 ***</span>
<span class="co">#&gt; Age         -0.0448482  0.0095495  -4.696 2.65e-06 ***</span>
<span class="co">#&gt; SibSp       -0.3349588  0.1270615  -2.636  0.00838 ** </span>
<span class="co">#&gt; Parch       -0.1116069  0.1319805  -0.846  0.39776    </span>
<span class="co">#&gt; Fare         0.0008764  0.0030466   0.288  0.77359    </span>
<span class="co">#&gt; Cabin        0.0107243  0.0047041   2.280  0.02262 *  </span>
<span class="co">#&gt; Embarked     0.3440829  0.1703586   2.020  0.04341 *  </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Null deviance: 833.37  on 623  degrees of freedom</span>
<span class="co">#&gt; Residual deviance: 539.33  on 615  degrees of freedom</span>
<span class="co">#&gt; AIC: 557.33</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of Fisher Scoring iterations: 5</span>
predictions &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> predictions)
<span class="co">#&gt; [1] 0.8468563</span></code></pre></div>
<p><strong>Lasso Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">1</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8364072</span></code></pre></div>
<p><strong>Ridge Logistic Regression</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lf &lt;-<span class="st"> </span>LMTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">family=</span><span class="st">"binomial"</span>, <span class="dt">alpha=</span><span class="dv">0</span>)
lf<span class="op">$</span><span class="kw">cv_model</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">nfolds =</span> <span class="dv">5</span>, <span class="dt">parallel =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt; Computation done.</span>
pred &lt;-<span class="st"> </span>lf<span class="op">$</span><span class="kw">cv_predict</span>(<span class="dt">df =</span> xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8440719</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">3</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)

pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               73.231441</span>
<span class="co">#&gt; Fare                              55.658431</span>
<span class="co">#&gt; Age                               50.614376</span>
<span class="co">#&gt; Cabin                             24.021263</span>
<span class="co">#&gt; Pclass                            21.448374</span>
<span class="co">#&gt; SibSp                             14.710047</span>
<span class="co">#&gt; Parch                             10.213647</span>
<span class="co">#&gt; Embarked                           9.946339</span>

<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8141018</span></code></pre></div>
<p><strong>XGBOOST</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xgb &lt;-<span class="st"> </span>XGBTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">objective =</span> <span class="st">"binary:logistic"</span>
                      , <span class="dt">n_estimators =</span> <span class="dv">500</span>
                      , <span class="dt">eval_metric =</span> <span class="st">"auc"</span>
                      , <span class="dt">maximize =</span> T
                      , <span class="dt">learning_rate =</span> <span class="fl">0.1</span>
                      ,<span class="dt">max_depth =</span> <span class="dv">6</span>)
xgb<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>, <span class="dt">valid =</span> xtest)
<span class="co">#&gt; converting the data into xgboost format..</span>
<span class="co">#&gt; starting with training...</span>
<span class="co">#&gt; [1]  train-auc:0.889084  val-auc:0.869251 </span>
<span class="co">#&gt; [51] train-auc:0.974211  val-auc:0.849132 </span>
<span class="co">#&gt; [101]    train-auc:0.988085  val-auc:0.847964 </span>
<span class="co">#&gt; [151]    train-auc:0.993937  val-auc:0.843443 </span>
<span class="co">#&gt; [201]    train-auc:0.995879  val-auc:0.843772 </span>
<span class="co">#&gt; [251]    train-auc:0.996755  val-auc:0.840599 </span>
<span class="co">#&gt; [301]    train-auc:0.997469  val-auc:0.838982 </span>
<span class="co">#&gt; [351]    train-auc:0.997772  val-auc:0.836826 </span>
<span class="co">#&gt; [401]    train-auc:0.998129  val-auc:0.836886 </span>
<span class="co">#&gt; [451]    train-auc:0.998367  val-auc:0.836497 </span>
<span class="co">#&gt; [500]    train-auc:0.998594  val-auc:0.836497</span>

pred &lt;-<span class="st"> </span>xgb<span class="op">$</span><span class="kw">predict</span>(xtest)
<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.836497</span></code></pre></div>
<p>Let’s create some new feature based on target variable using target encoding and test a model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># add target encoding features</span>
xtrain[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                        <span class="dt">test_df =</span> xtest,
                        <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                        <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>train[[<span class="dv">2</span>]]]
xtest[, feat_<span class="dv">01</span> <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw"><a href="../reference/smoothMean.html">smoothMean</a></span>(<span class="dt">train_df =</span> xtrain,
                               <span class="dt">test_df =</span> xtest,
                               <span class="dt">colname =</span> <span class="st">"Embarked"</span>,
                               <span class="dt">target =</span> <span class="st">"Survived"</span>)<span class="op">$</span>test[[<span class="dv">2</span>]]]

<span class="co"># train a random forest</span>
<span class="co"># Random Forest</span>
rf &lt;-<span class="st"> </span>RFTrainer<span class="op">$</span><span class="kw">new</span>(<span class="dt">n_estimators =</span> <span class="dv">500</span>,<span class="dt">classification =</span> <span class="dv">1</span>, <span class="dt">max_features =</span> <span class="dv">4</span>)
rf<span class="op">$</span><span class="kw">fit</span>(<span class="dt">X =</span> xtrain, <span class="dt">y =</span> <span class="st">"Survived"</span>)
pred &lt;-<span class="st"> </span>rf<span class="op">$</span><span class="kw">predict</span>(<span class="dt">df =</span> xtest)
rf<span class="op">$</span><span class="kw">get_importance</span>()
<span class="co">#&gt;          tmp.order.tmp..decreasing...TRUE..</span>
<span class="co">#&gt; Sex                               75.384211</span>
<span class="co">#&gt; Fare                              57.110421</span>
<span class="co">#&gt; Age                               55.517171</span>
<span class="co">#&gt; Cabin                             23.841056</span>
<span class="co">#&gt; Pclass                            22.560393</span>
<span class="co">#&gt; SibSp                             14.641158</span>
<span class="co">#&gt; Parch                              9.803370</span>
<span class="co">#&gt; feat_01                            7.173396</span>
<span class="co">#&gt; Embarked                           5.396476</span>

<span class="kw"><a href="http://www.rdocumentation.org/packages/Metrics/topics/auc">auc</a></span>(<span class="dt">actual =</span> xtest<span class="op">$</span>Survived, <span class="dt">predicted =</span> pred)
<span class="co">#&gt; [1] 0.8111078</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install">Install</a></li>
      <li><a href="#examples---machine-learning-models">Examples - Machine Learning Models</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Manish Saraswat.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
